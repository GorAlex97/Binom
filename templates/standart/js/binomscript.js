!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="templates/standart/js/",n(n.s=1021)}({1021:function(t,e,n){"use strict";function i(){console.log("%c BINOM TRACKER","font-size:25px;font-weight:bold;color:#439a46;"),console.log("%c Tracker for professionals!","font-size:20px"),console.log("%c Site    https://binom.org/","font-size:15px;font-style:italic;"),console.log("%c Support https://support.binom.org/","font-size:15px;font-style:italic;"),console.log("%c Docs    https://docs.binom.org/","font-size:15px;font-style:italic;"),console.log("%c Blog    https://blog.binom.org/","font-size:15px;font-style:italic;")}window.consoleGreetings=i;try{localStorage&&"1"===localStorage.DISABLE_HELLO_CONSOLE_MESSAGE||i()}catch(t){i()}function o(t){return decodeURI((RegExp("[?&]"+t+"=(.+?)(&|$)").exec(location.search)||[,null])[1]||"")}var a,s,r,c,l,d,p;function u(t){var e=`\n\t\t<a class="lic_alert" style="float:right;text-align:center;white-space:nowrap;" target="_blank" href="https://cp.binom.org/login">\n\t\t\tYour subscription has expired. You have ${7+(t=parseInt(t))} days to renew the license.\n\t\t</a>\n\t`;$(".menu1").removeClass("menu1").addClass("menu1_alert"),$(".menu1_alert .header-menu-right").prepend(e)}function _(t){if(t||(t="New update!"),0==$(".new_update_menu_button").length){var e='<a class="menu_button1 new_update_menu_button" href="?page=update_system" style="float:right; color: #FF9800; font-weight: normal;">'+t+"</a>";$(".menu1 .header-menu-right").prepend(e)}}function m(){$(".menu1 .header-menu-right").prepend('<a class="menu_button1 new_messages_menu_button" style="float:right;color:#FF9800;font-weight:normal;cursor:pointer;">New messages!</a>'),$(".new_messages_menu_button").on("click",(function(){binomMessageWindow.drawWindow()}))}(jQuery.fn.reverse=[].reverse,window.getURLParameter=o,window.escapeHTML=function(t){return(t=t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},window.checkNoProfit=function(){return BINOM.tt?-1==BINOM.tt.tableOptions.availableColumns.indexOf("profit")&&-1==BINOM.tt.tableOptions.availableColumns.indexOf("roi"):3==$("[name=user_group]").val()},window.mapPageParamToName=function(t){var e;switch(t){case"campaigns":e="Campaigns";break;case"rotations":e="Rotations";break;case"landing_page":e="Landing pages";break;case"offers":e="Offers";break;case"affiliate_networks":e="Affiliate Networks";break;case"traffic_sources":e="Traffic Sources";break;default:e=t}return e},window.BINOM={__page:r=""!=(a=o("page"))?a.toLowerCase():"campaigns",__pageType:"add_camp"==(s=r)||"edit_camp"==s?"add_camp":"add_user"==s||"edit_user"==s?"add_user":s},BINOM.RESPONSE_STATUS_CHECK=function(t){try{"string"==typeof t&&(t=JSON.parse(t)),t.status&&"reload"==t.status&&window.location.reload()}catch(t){console.error("ERROR# BINOM.RESPONSE_STATUS_CHECK Cant check status of response!")}},window.cloneArrayFull=function(t){return JSON.parse(JSON.stringify(t))},BINOM._localStorageIsActive=R(),BINOM._isMobileBrowser=window.innerWidth<700,BINOM.cursorOnWindow=!0,BINOM.DISABLE_CONTEXT_MENU=function(){try{var t=URLUtils.getGETParamsAsObject().page||"Campaigns";window.vmStore.state&&window.vmStore.state[t]&&(window.vmStore.state[t].TT.contextMenuState.enabled=!1),BINOM._localStorageIsActive&&localStorage.setItem("CONTEXT_MENU_DISABLED",1)}catch(t){console.error(t)}},BINOM.ENABLE_CONTEXT_MENU=function(){try{var t=URLUtils.getGETParamsAsObject().page||"Campaigns";window.vmStore.state&&window.vmStore.state[t]&&(window.vmStore.state[t].TT.contextMenuState.enabled=!0),BINOM._localStorageIsActive&&localStorage.removeItem("CONTEXT_MENU_DISABLED")}catch(t){console.error(t)}},BINOM.DISABLE_NUM_TAB_HOTKEY=()=>{try{BINOM._localStorageIsActive&&localStorage.setItem("disableNumTabsHotkey",1)}catch(t){console.error(t)}},BINOM.ENABLE_NUM_TAB_HOTKEY=()=>{try{BINOM._localStorageIsActive&&localStorage.removeItem("disableNumTabsHotkey")}catch(t){console.error(t)}},BINOM.CLEAR_MY_IMAGES_FROM_SERVER=function(){const t=makeConfirmModal("Clear","Cancel",(function(){fetch(`./${window.API_URL}?action=images@clear_all_user_images`,{credentials:"include"}).then(t=>t.json()).then(e=>{if(!(e.status="cleared"))throw new Error(JSON.stringify(e));t.close()}).catch(t=>{console.error(t)})}),"Clear all your images from server?","");t.show()},BINOM.DISABLE_HELLO_CONSOLE_MESSAGE=function(){try{BINOM._localStorageIsActive&&localStorage.setItem("DISABLE_HELLO_CONSOLE_MESSAGE","1")}catch(t){console.error(t)}},BINOM.ENABLE_HELLO_CONSOLE_MESSAGE=function(){try{BINOM._localStorageIsActive&&localStorage.removeItem("DISABLE_HELLO_CONSOLE_MESSAGE")}catch(t){console.error(t)}},BINOM.HTML_SNIPPETS={},BINOM.HTML_SNIPPETS.LOADING_CIRCLE='\n<div class="sk-fading-circle">\n  <div class="sk-circle1 sk-circle"></div>\n  <div class="sk-circle2 sk-circle"></div>\n  <div class="sk-circle3 sk-circle"></div>\n  <div class="sk-circle4 sk-circle"></div>\n  <div class="sk-circle5 sk-circle"></div>\n  <div class="sk-circle6 sk-circle"></div>\n  <div class="sk-circle7 sk-circle"></div>\n  <div class="sk-circle8 sk-circle"></div>\n  <div class="sk-circle9 sk-circle"></div>\n  <div class="sk-circle10 sk-circle"></div>\n  <div class="sk-circle11 sk-circle"></div>\n  <div class="sk-circle12 sk-circle"></div>\n</div>',$(document).on("mouseleave",(function(){BINOM.cursorOnWindow=!1})),$(document).on("mouseenter",(function(){BINOM.cursorOnWindow=!0})),window.easySlider=function(t){"none"==$(t).next().css("display")?($(t).next().css("display","block"),$(t).find("img.easy-toggler-img")[0].src="templates/standart/images/arrow_down.png"):"block"==$(t).next().css("display")&&($(t).next().css("display","none"),$(t).find("img.easy-toggler-img")[0].src="templates/standart/images/arrow_up.png")},window.LicenceRedLine=u,$(document).ready((function(){var t=$.cookie("days_left_lic");void 0===t?$.ajax({url:`./${window.API_URL}?action=licence@get`,type:"GET",success:function(t){var e;try{e=JSON.parse(t)}catch(e){return console.error(e),console.error("Cannot check licence. Please, contact our support."),void console.error(t)}if("false"==e.status||"error"==e.status){var n=moment(new Date).add(60,"m").toDate();$.cookie("days_left_lic",0,{expires:n})}else if("true"==e.status){var i=Math.ceil(e.seconds_left/86400);i<0&&u(i),"analysis_system"==BINOM.__page&&$("#days_left_lic_span").html(i+" days");n=moment(new Date).add(720,"m").toDate();$.cookie("days_left_lic",i,{expires:n})}}}):t<0&&u(t)})),window.drawNewUpdateButton=_,window.drawNewMessagesButton=m,$(document).ready((function(){var t=$.cookie("check_upd");void 0===t&&$.ajax({url:`./${window.API_URL}?action=update@check`,type:"GET",success:function(t){var e;try{e=JSON.parse(t)}catch(e){return console.error(e),console.error("Cannot check update. Please, contact our support."),void console.error(t)}if("analysis_system"==BINOM.__page&&"error"==e.status&&(0==BINOM.monitorObj.monitorData.errors.length&&(BINOM.monitorObj.monitorData.errors={}),BINOM.monitorObj.monitorData.errors[300]=e.message,BINOM.monitorObj.draw()),"false"==e.status||"error"==e.status||1==e.is_fix){var n=moment(new Date).add(30,"m").toDate();$.cookie("check_upd",-1,{expires:n})}else if("true"==e.status){_();n=moment(new Date).add(30,"m").toDate();$.cookie("check_upd",1,{expires:n})}}});var e=$.cookie("check_msg");void 0===e?fetch(`./${window.API_URL}?action=messages@get_all`,{method:"GET",credentials:"include"}).then(t=>t.json()).then(t=>{if(t.status&&"false"==t.status){var e=moment(new Date).add(30,"m").toDate();$.cookie("check_msg",-1,{expires:e})}else{if(!t.status||"true"!=t.status)throw new Error(JSON.stringify(t));e=moment(new Date).add(30,"m").toDate();$.cookie("check_msg",1,{expires:e}),m()}}).catch(t=>{console.error("Cannot check tracker messages!"),console.error(t)}):"1"==e&&m(),void 0===$.cookie("check_domains")&&fetch(`./${window.API_URL}?action=domain_checker@check_all`,{method:"GET",credentials:"include"}).then(t=>t.json()).then(t=>{if(t.status&&"error"==t.status){var e=moment(new Date).add(180,"m").toDate();$.cookie("check_domains",-1,{expires:e})}else if(t.status&&"true"==t.status){e=moment(new Date).add(20,"m").toDate();$.cookie("check_domains",1,{expires:e})}}),fetch(`./${window.API_URL}?action=notification@get_UpdateNotification`,{method:"GET",credentials:"include"}).then(t=>t.json()).then(e=>{if(e.status&&"true"==e.status)_(e.msg);else if("1"==t){var n=moment(new Date).add(1,"m").toDate();$.cookie("check_upd",-1,{expires:n})}}).catch(t=>{console.error("Cannot check tracker notifications!"),console.error(t)})})),BINOM.keyPressed={shift:!1,ctrl:!1},$(document).keydown((function(t){switch(L(t=t||window.event)){case 16:BINOM.keyPressed.ctrl=!1,BINOM.keyPressed.shift=!0;break;case 17:BINOM.keyPressed.shift=!1,BINOM.keyPressed.ctrl=!0}})),$(document).keyup((function(t){switch(L(t=t||window.event)){case 16:case 17:BINOM.keyPressed.ctrl=!1,BINOM.keyPressed.shift=!1}})),$(window).blur((function(t){BINOM.keyPressed.shift=!1,BINOM.keyPressed.ctrl=!1})),"report"==BINOM.__pageType)&&((new Image).src="./templates/standart/images/but-bg.png");function w(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function h(t){0!=$(".tab-button[data-tab-name="+t+"]").length&&($(".tab-content-block-active").removeClass("tab-content-block-active"),$(".tab-button-active").removeClass("tab-button-active"),$(".tab-button[data-tab-name="+t+"]").addClass("tab-button-active"),$(".tab-content-block[data-tab-name="+t+"]").addClass("tab-content-block-active"),"function"==typeof onTabChangeActions&&onTabChangeActions())}function f(){if(0!=window.location.hash.length){var t=URLUtils.getHASHParamsAsObject();t.tab&&h(t.tab)}}function v(){if(BINOM._localStorageIsActive){var t=o("page").toLowerCase(),e=localStorage.getItem("searching"),n="";e&&(n=(e=JSON.parse(e))[t])&&($(".search").val(n),$(".search").trigger("change"))}}function g(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br />")}function k(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function b(t,e){var n,i,o=t.value,a=t.ownerDocument;"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(n=t.selectionEnd,t.value=o.slice(0,n)+e+o.slice(n),t.selectionStart=t.selectionEnd=n+e.length):"undefined"!=a.selection&&a.selection.createRange&&(t.focus(),(i=a.selection.createRange()).collapse(!1),i.text=e,i.select())}function y(t){return 1==t.toString().length?"0"+t.toString():t}function O(){$("body").on("click",".wrap",(function(){var t=$(".window");if("none"!=$(this).css("display")&&t.size()>0){if($(".window-second-layer").length>0)return void $(".window-second-layer").find(".win_closebtn").trigger("click");for(var e=0;e<t.size();e++)"none"!=t.eq(e).css("display")&&t.eq(e).find(".win_closebtn").trigger("click")}}))}function M(){var t;if("landing_page"==BINOM.__pageType||"add_camp"==BINOM.__pageType)if(t=1==$('[name="lp_type"]').val()?'[name="lp_url"]':'[name="lp_file"]',""==$(t).val())$("#qrcode").html(""),$("#qrcode").css("display","none"),$("#qrcode").css("opacity","0"),$(".qr_ico").remove(),$(".url-tokens-block").css("margin-top","-15px");else{$("#qrcode").html(""),$("div").is(".qr_ico")||(1==$('[name="lp_type"]').val()?($(".url-tokens-block").before((function(){return'<div class="qr_ico" style="top: -46px;" onmouseover="show_qr(this);" onmouseout="hide_qr()">QR</div>'})),$(".url-tokens-block").css("margin-top","-31px")):$('[name="lp_group"]').before((function(){return'<div class="qr_ico" style="top: -29px;height:0px;" onmouseover="show_qr(this);" onmouseout="hide_qr()">QR</div>'}))),$(t).css("padding-right","23px");try{$('[name="lp_type"]').val(),$(t).val(),P($(t).val())}catch(e){$("#qrcode").html(""),$("#qrcode").css("display","none"),$("#qrcode").css("opacity","0"),$(".qr_ico").remove(),$(".url-tokens-block").css("margin-top","-15px"),$(t).css("padding-right","3px")}}}function T(t,e){return t.length>e?t.substr(0,e-3)+"...":t}function C(){for(var t=$(".window"),e=0;e<t.size();e++)"block"==t.eq(e).css("display")&&$(".window .win_closebtn").trigger("click")}function S(t,e){$(t).html("").append(e).append('<div class="sk-fading-circle">\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t</div>')}function I(t,e){this.id=t,this.button_text=$(t+" .win-save-button").html().trim(),e=e||Object.create(null),this.blocked_button_text=e.blocked_button_text||"",this.block=function(){var t=this.id;$(t+" .win_content").height();$(t+" .win-close-button").addClass("button_inactive"),$("body").off("click",".wrap"),$(".wrap").off("click"),$(t+" .win-save-button").html("").append(this.blocked_button_text).append('<div class="sk-fading-circle">\t\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t\t</div>'),$("body").append("<div class='window-wrapper-block'></div>"),O(),$(".window-wrapper-block").on("click",(function(){}))},this.unblock=function(){var t=this.id;$(".window-wrapper-block").remove(),$(t+" .win-save-button").html(this.button_text),$(t+" .win-close-button").removeClass("button_inactive")}}function B(t,e){$(t+" .win_content").height();$(t+" .win_closebtn").unbind(),$(t+" .win_closebtn").attr("onclick",""),$("body").off("click",t+" .win_closebtn"),$(t+" .button").attr("onclick",""),$(t+" .button").unbind("click"),$(t+" .win-close-button").addClass("button_inactive"),$("body").off("click",".wrap"),($(t+" .modal_window__ok-button").length>0?$(t+" .modal_window__ok-button"):$(t+" .modal_window__close-button")).html("").append(e).append('<div class="sk-fading-circle" style="margin-left:7px">\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t</div>')}function N(t,e){$(t).html("").append(e).append('<div class="sk-fading-circle">\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t</div>')}function D(){$(".filter_block_stats").length>0&&($(".filter_block_stats").offset().top>80?$(".filter_block").css("float","left").css("marginLeft","-2px").css("marginTop","5px"):$(".filter_block").css("float","right").css("marginTop","3px"))}function L(t){return t.keyCode?t.keyCode:t.which}function A(){var t=!1,e=!1;if(void 0===BINOM.__pageType)return!1;var n,i={};function o(){$(document).on("keydown",(function(e){17==L(e)&&(t=!0,setTimeout((function(){t=!1}),750))})),$(document).on("keyup",(function(e){17==L(e)&&(t=!1)})),e=!0}function a(e,n){if("1"!=window.BNM_DISABLE_SHORTCUTS){if(void 0===n&&(n=!0),n&&!t)return!1;(!n||n&&t)&&$(".window").reverse().each((function(t,n){if("note_window"!=$(n).parent().attr("id")&&"none"!=$(n).css("display")){e.preventDefault();var i=$(n).find(".win-save-button");return 0==i.length&&0==(i=$(n).find(".ok_button")).length&&(i=$(n).find(".modal-footer-button-ok")),i.trigger("click"),!1}}))}}function s(){"1"!=window.BNM_DISABLE_SHORTCUTS&&$(document).on("keydown",(function(t){var e,n=L(t=t||window.event);if(!r()&&(!BINOM.keyPressed.ctrl&&(e=document.querySelectorAll(".modal-window, .window"),![].some.call(e,t=>t.offsetHeight>0)&&n>=48&&n<=58))){if(BINOM._localStorageIsActive)try{if(1==localStorage.getItem("disableNumTabsHotkey"))return}catch(t){console.error("While check num tab hotkey available"),console.error(t)}switch(n){case 49:$(".menu_campaigns")[0].click();break;case 50:$(".menu_landing_pages")[0].click();break;case 51:$(".menu_offers")[0].click();break;case 52:$(".menu_rotations")[0].click();break;case 53:$(".menu_networks")[0].click();break;case 54:$(".menu_traffic_sources")[0].click();break;case 55:$(".menu_trends")[0].click();break;case 56:$(".menu_conversions")[0].click();break;case 57:$(".menu_clicklog")[0].click();break;case 48:$(".menu_users")[0].click()}}}))}function r(){const{tagName:t}=document.activeElement;return $(":focus").length>0||"INPUT"===t||"TEXTAREA"===t}$(document).keydown((function(t){if(t=t||window.event,$(".modal_window").length>0){var e=L(t);13!=e&&27!=e&&t.stopImmediatePropagation()}})),i.stat_tab=localStorage.typeStatState,$(document).on("keydown",(function(t){t=t||window.event,$(".modal_window").length>0&&13==L(t)&&($(".modal_window__ok-button")[0]?$(".modal_window__ok-button")[0].click():$(".modal_window__cancel-button")[0]&&$(".modal_window__cancel-button")[0].click(),t.stopImmediatePropagation())})),$(document).keydown((function(t){t=t||window.event,U()&&!r()&&13==L(t)&&(a(t,!1),t.stopImmediatePropagation())})),-1!=["stats","conversions","report","clicklog"].indexOf(BINOM.__pageType)&&$(document).on("keydown",(function(t){if("stats"==BINOM.__pageType&&"block"==$("#upd_costs").css("display"))13==L(t)&&$("#upd_costs").find(".win-save-button")[0].click();else if(r())if($("input:focus").hasClass("search_in_report")||$("input:focus").hasClass("search"));else if("block"!=$("#upd_costs").css("display"))return;if(13==L(t)){if("block"==$("#upd_costs").css("display"))return void $(".win-save-button").trigger("click");$("#refresh-btn").hasClass("green-button")&&(event.preventDefault(),$("#refresh-btn").trigger("click"))}})),$(document).on("keydown",(function(t){if(t=t||window.event,$(".modal_window").length>0&&27==L(t)){var e=!1;$(".modal_window__cancel-button").length>0&&($(".modal_window__cancel-button")[0].click(),e=!0),$(".modal_window .win_closebtn").length>0&&!e&&($(".modal_window__cancel-button")[0].click(),e=!0),$(".modal_window__ok-button").length>0&&!e&&($(".modal_window__ok-button")[0].click(),e=!0),t.stopImmediatePropagation()}})),"statistic"!=window.__pageFormat&&-1==["add_camp","add_rotation","conversions","users","report","settings","add_user"].indexOf(BINOM.__pageType)||$(document).keydown((function(t){27==L(t)&&$(".wrap").each((function(t,e){"none"!==$(e).css("display")&&$(e).trigger("click")}))})),-1==(n=["offers","landing_page","affiliate_networks","traffic_sources","conversions","users","campaigns","stats"]).indexOf(BINOM.__pageType)&&"add_camp"!=window.__pageFormat&&"add_rotation"!=window.__pageFormat||e||o(),-1!=n.indexOf(BINOM.__pageType)?$(document).on("keydown",(function(t){83==L(t=t||window.event)&&a(t)})):"add_camp"!=window.__pageFormat&&"add_rotation"!=window.__pageFormat||$(document).on("keydown",(function(e){"1"!=window.BNM_DISABLE_SHORTCUTS&&83==L(e=e||window.event)&&t&&(e.preventDefault(),0!=U()?a(e):"add_camp"==window.__pageFormat?$(".main_save_button_add_camp").trigger("click"):"add_rotation"==window.__pageFormat&&$(".main_save_button_add_rotation").trigger("click"))})),"1"!=window.BNM_DISABLE_SHORTCUTS&&"add_camp"==window.__pageFormat&&(e||o(),$(document).on("keydown",(function(e){82==L(e=e||window.event)&&t&&(e.preventDefault(),$(".add_camp_statistic_button")[0].click())}))),s(),"campaigns"!=BINOM.__pageType&&"report"!=BINOM.__pageType||(e||o(),$(document).on("keydown",(function(e){r()||(e=e||window.event,t&&69==L(e)&&("campaigns"==BINOM.__pageType&&1==$(".tr_active").length||"report"==BINOM.__pageType)&&(e.preventDefault(),$("#edit")[0].click()))})))}function j(){R()&&localStorage.setItem("typeStatState",1),$("#info_button").html('<img src="templates/standart/images/w-table.png" class="icon stats_icon"><span>Stat</span>'),BINOM.tt&&BINOM.tt.openTab()}function E(){R()&&localStorage.setItem("typeStatState",0),$("#info_button").html('<img src="templates/standart/images/w-note.png" class="icon info_icon"><span>Info</span>'),BINOM.tt&&BINOM.tt.closeTab()}function R(){if("object"!=typeof localStorage)return!1;try{return localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage"),!0}catch(t){return!1}}function H(){$("#refresh-btn").removeClass("blue-button").addClass("green-button"),$("#refresh-btn").html("<img src='templates/standart/images/w-ok.png' class='icon' style='position: relative; top: 1px;'>Apply")}function Y(){$("#refresh-btn").removeClass("green-button").addClass("blue-button"),$("#refresh-btn").html("<img src='templates/standart/images/w-refresh.png' class='icon'>Refresh")}function W(){const t=t=>{const e=$(t),n=e.val(),i=e.attr("name");"date"!=i&&"date_trends"!=i||10!=n&&12!=n?(Y(),submitForm()):H()};if(-1!=["campaigns","landing_page","offers","traffic_sources","affiliate_networks","rotations","trends","clicklog","users"].indexOf(BINOM.__page)&&($("#act-form select").on("change",(function(e){const n=e.target;"trends"==BINOM.__page?"date_gradation"!=n.getAttribute("name")&&"date_trends"!=n.getAttribute("name")&&t(n):t(n)})),URLUtils.historyIsActive)){const t={statFilterChange:!0,page:URLUtils.getGETParamsAsObject().page};history.replaceState(t,"",window.location.href)}}function P(t){new QRCode(document.getElementById("qrcode"),{width:250,height:250}).makeCode(t)}function U(){for(var t=$(".window"),e=t.length-1;e>=0;e--)if(0!=t[e].offsetHeight)return t.eq(e);return!1}function F(){var t,e=[0,21,41,61,81,101,121,141,161,181,200],n=[0,-21,-41,-61,-81,-100],i=0,o=0,a=$(".tr_profit_1, .tr_profit_3"),s=function(t){return parseFloat(a.eq(d).find("td").eq(11).html().replace(/[,%]/g,""))},r=function(t){return parseFloat(a.eq(d).find("td").eq(10).html().replace(/[,%]/g,""))},c=function(t){var e=a.eq(d).find(".roi_td");return e.length>0?parseFloat(e.html().replace(/[,%]/g,"")):""};if("statistic"==window.__pageFormat||"report"==window.__pageFormat||"trends"==window.__pageFormat)for(var l,d=0,p=a.length;d<p;d++){if(o=0,"statistic"==window.__pageFormat?l=c:"report"==window.__pageFormat?l=s:"trends"==window.__pageFormat&&(l=r),(i=l(a.eq(d)))>0){for(var u=0,_=e.length;u<_;u++)i>e[u]&&(o=u+1);t="green_row_opacity"}else if(i<0){for(u=0,_=n.length;u<_;u++)i<n[u]&&(o=u+1);t="red_row_opacity"}a.eq(d).addClass(t+"_"+o)}else window.__pageFormat}function G(t){$(t).removeClass("error_field_border")}function q(){if(BINOM.tt&&BINOM.tt.tableOptions.mainSetColumns){var t=BINOM.tt.tableOptions.mainSetColumns.join(","),e=URLUtils.getGETParamsAsObject();e.export="csv",e.columnsforprint=t;var n=URLUtils.getURLWithNewGETS(e);$("#iframe-downloader").remove();var i=document.createElement("iframe");i.setAttribute("src",n),i.setAttribute("id","iframe-downloader"),i.setAttribute("style","display:none"),document.body.appendChild(i)}window.BINOM.BLOCK_CSV_CLICK=!0,setTimeout((function(){window.BINOM.BLOCK_CSV_CLICK=!1}),BINOM.BLOCK_CSV_CLICK_TIME)}function z(t){10==t?($("#bnm-awesome-calendar").periodpicker("setOption","timepicker",!0),$("#bnm-awesome-calendar").periodpicker("setOption","cells",[1,2]),$("#bnm-awesome-calendar").periodpicker("change")):12==t&&($("#bnm-awesome-calendar").periodpicker("setOption","timepicker",!1),$("#bnm-awesome-calendar").periodpicker("setOption","cells",[1,3]),$("#bnm-awesome-calendar").periodpicker("change"))}function K(t){12==t||10==t?(z(t),$("#custom_date").css("display","block"),$(".mobile-custom-date").removeClass("mobile-custom-date--disabled"),$(".mobile-custom-date").addClass("mobile-custom-date--enabled")):($("#custom_date").css("display","none"),$(".mobile-custom-date").removeClass("mobile-custom-date--enabled"),$(".mobile-custom-date").addClass("mobile-custom-date--disabled"))}function V(){if($("#bnm-awesome-calendar").length){var t;if("trends"==BINOM.__page)null!=(t=$("[name=date_s_trends]").val())&&-1!=t.indexOf("1970-01-01")&&$("[name=date_s_trends]").val(moment().format("YYYY-MM-DD 00:00"));else null!=(t=$("[name=date_s]").val())&&-1!=t.indexOf("1970-01-01")&&$("[name=date_s]").val(moment().format("YYYY-MM-DD 00:00"));$("#bnm-awesome-calendar").periodpicker({todayButton:!1,start:"#bnm-awesome-calendar-start",end:"#bnm-awesome-calendar-end",formatDate:"YYYY-MM-DD",formatDecoreDateWithYear:"YYYY-MM-DD",formatDecoreDateWithoutMonth:"YYYY-MM-DD",formatDecoreDateTimeWithYear:"YYYY-MM-DD",formatDecoreDate:"YYYY-MM-DD",formatDecoreDateTime:"YYYY-MM-DD HH:mm",yearsLine:!1,i18n:{en:{OK:"Apply"}},onOkButtonClick:function(){this.startinput.val();setTimeout(()=>{if("stats"==BINOM.__page)$("#act-form").submit();else{let t;if("trends"==BINOM.__page){const e=$("[name=date_s_trends]").val(),n=$("[name=date_e_trends]").val();t={date_trends:$("[name=date_trends]").val(),date_s_trends:e,date_e_trends:n}}else if(BINOM.__page){const e=$("[name=date_s]").val();t={date_e:$("[name=date_e]").val(),date_s:e,date:$("[name=date]").val()};const n=J(e),i=$("#stats-timezone").val(),o="10"==$("#date_filter").val();if(n){if(o)return void makeBadAlertModal("OK","Please choose reporting period <br> less than last 30 days").show();if("12"==$("#date_filter").val()&&i!=BINOM_SETTINGS.DEFAULT_TIMEZONE)return void makeBadAlertModal("OK","Please choose default time zone or reporting period <br> less than last 30 days").show()}}URLUtils.changeGETsInURL(t).then(()=>{BINOM.tt.refetchData(),Y()})}},50)},onAfterShow:function(){const t=parseFloat(this.picker[0].style.top);this.picker[0].style.top=t+12},timepicker:!0,formatDateTime:"YYYY-MM-DD HH:mm",formatDecoreDateTimeWithoutMonth:"YYYY-MM-DD HH:mm",formatDecoreDateTimeWithYear:"YYYY-MM-DD HH:mm",timepickerOptions:{hours:!0,minutes:!1,seconds:!1,ampm:!1,twelveHoursFormat:!1}})}var e;12!=(e="trends"==BINOM.__page?o("date_trends")||$.cookie("date_trends"):"clicklog"==BINOM.__page?o("date"):o("date")||$.cookie("date"))&&10!=e||K(e),$(".period_picker_from_time").on("change",(function(){this.value=moment(this.value,"HH:00").format("HH:00");var t=$("#bnm-awesome-calendar").periodpicker("value");$("#bnm-awesome-calendar").periodpicker("value",[moment(t[0],"YYYY-MM-DD HH:00").format("YYYY-MM-DD HH:00"),t[1]])})),$(".period_picker_to_time").on("change",(function(){this.value=moment(this.value,"HH:00").format("HH:00");var t=$("#bnm-awesome-calendar").periodpicker("value");$("#bnm-awesome-calendar").periodpicker("value",[t[0],moment(t[1],"YYYY-MM-DD HH:00").format("YYYY-MM-DD HH:00")])}))}function J(t){t=moment(t);var e=moment().add(-31,"days");return!moment(t).isAfter(e)}function Z(){if("trends"!=BINOM.__page&&"triggers"!=BINOM.__page&&0!=$("#bnm-awesome-calendar").length){var t;t="conversions"==BINOM.__page||"clicklog"==BINOM.__page||$("#stats-timezone").val()==BINOM_SETTINGS.DEFAULT_TIMEZONE;var e="10"==$("#date_filter, #timedate").val(),n="12"==$("#date_filter, #timedate").val(),i=null;(e||n&&!t)&&(i=moment().add(-29,"days").format("YYYY-MM-DD")),$("#bnm-awesome-calendar").periodpicker("setOption","minDate",i)}}window.URLUtils={historyIsActive:!(!window.history||!history.pushState),parseGETString:function(t){var e,n=Object.create(null);""!=t&&t.split("&").forEach((function(t){e=t.split("="),n[e[0]]=e[1]}));return n},makeGetParamsFromObject:function(t,e){var n,i=e=e||"?";for(n in t)n&&""!=t[n]&&(i+=n+"="+t[n]+"&");return i=i.substring(0,i.length-1)},getGETParamsAsObject:function(t){var e;Object.create(null);return e=void 0===t?window.location.search.substr(1):t.split("?")[1],this.parseGETString(e)},changeURLWithNewGETS:function(t,e={}){const{forcedRedirect:n=!1,pushState:i=!1,pushStateObject:o={}}=e;return new Promise((e,a)=>{const s=URLUtils.getGETParamsAsObject();if(BINOM.tt&&BINOM.tt.markedRows&&BINOM.tt.markedRows.selected&&(BINOM.tt.markedRows.selected=new Array),void 0===t)return"";var r;"object"==typeof t?r=this.makeGetParamsFromObject(t):"string "==typeof t&&(r=t);var c=window.location.origin+window.location.pathname+r;if(!this.historyIsActive||n)window.location.href=c;else{const t=o||null;i?window.history.pushState(t,"",c):window.history.replaceState(t,"",c),e(c)}const l=URLUtils.getGETParamsAsObject();URLUtils.subscriber.emit("#URL_CHANGED",l);for(let t in l)(l[t]&&s[t]&&l[t]!=s[t]||l[t]&&!s[t])&&URLUtils.subscriber.emit(t,l[t])})},getURLWithNewGETS:function(t){return void 0===t?"":("object"==typeof t?e=this.makeGetParamsFromObject(t):"string "==typeof t&&(e=t),window.location.origin+window.location.pathname+e);var e},changeGETsInURL:function(t,e){const n=Object.keys(t),i=URLUtils.getGETParamsAsObject();return n.forEach(e=>{!1===t[e]||null===t[e]?delete i[e]:i[e]=String(t[e])}),URLUtils.changeURLWithNewGETS(i,e)},removeGETFromURL(t){const e=URLUtils.getGETParamsAsObject();void 0!==e[t]&&(delete e[t],URLUtils.subscriber.emit(t,null),URLUtils.changeURLWithNewGETS(e))},getParam:t=>URLUtils.getGETParamsAsObject()[t],subscriber:{subs:{},on(t,e){this.subs[t]||(this.subs[t]=[]),this.subs[t].push(e);const n=URLUtils.getGETParamsAsObject();let i=null;void 0!==n[t]&&(i=n[t]),e(i)},off(t,e){if(!this.subs[t]){this.subs[t].indexOf(e)>-1&&this.subs[t].splice(e)}},emit(t,e){this.subs[t]&&this.subs[t].forEach(t=>{t(e)})}},getHASHParamsAsObject:function(t){var e;Object.create(null);return void 0===t?e=window.location.hash.substr(1):0==t.indexOf("#")&&(e=t.replace("")),this.parseGETString(e)},addParamToHASH:function(t,e){var n=this.getHASHParamsAsObject();n[t]=e;var i=this.makeGetParamsFromObject(n,"#");window.location.replace(i)},removeParamToHash:function(t){var e=this.getHASHParamsAsObject();delete e[t];var n=this.makeGetParamsFromObject(e,"#");""===n?history.replaceState(null,null," "):window.location.replace(n)}},Object.keys||(Object.keys=(c=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),p=(d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,i=[];for(e in t)c.call(t,e)&&i.push(e);if(l)for(n=0;n<p;n++)c.call(t,d[n])&&i.push(d[n]);return i})),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),i=0;i<a;){var s;i in o&&(s=o[i],t.call(n,s,i,o)),i++}}),Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in e){var s=e[a];t.call(o,s,a,e)&&i.push(s)}return i}),window.toObject=w,Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Object.assign||(Object.assign=function(t,e){for(var n,i,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=w(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(r[l]=n[l]);if(o){i=o(n);for(var d=0;d<i.length;d++)s.call(n,i[d])&&(r[i[d]]=n[i[d]])}}return r}),window.getPageNameViaPageType=function(){switch(BINOM.__pageType){case"campaigns":return"Campaigns";case"landing_page":return"Landings";case"offers":return"Offers";case"affiliate_networks":return"Affiliate Networks";case"traffic_sources":return"Traffic Sources";case"stats":return"Reports"}return""},window.cloneObject=function(t){if(null==t||"object"!=typeof t)return t;var e;if(t.constructor)for(var n in e=t.constructor(),t)t.hasOwnProperty(n)&&(e[n]=t[n]);else for(var n in e=Object.create(null),t)e[n]=t[n];return e},window.isNumeric=function(t){return!isNaN(t)},Date.prototype.getStringHumanReadable=function(t){var e="0"+this.getDate(),n="0"+this.getMonth(),i=this.getFullYear(),o=this.getHours(),a="0"+this.getMinutes();return"datetime"==t?i+"-"+n.substr(-2)+"-"+e.substr(-2)+" "+o+":"+a.substr(-2):"time"==t?o+":"+a.substr(-2):"date"==t?i+"-"+n.substr(-2)+"-"+e.substr(-2):void 0},Array.prototype.findObjectByProp=function(t,e,n){void 0===n&&(n=!1);for(var i=new Array,o=0;o<this.length;o++)"object"==typeof this[o]&&this[o][t]==e&&(n?i.push(o):i.push(this[o]));return 1==i.length?i[0]:i.length>0&&i},Array.prototype.findIndexObjectByProp=function(t,e){if(this.length>0)for(var n=0;n<this.length;n++)if(this[n][t]==e)return n;return!1},Array.prototype.remove=function(t){var e=this.indexOf(t);return-1!=e&&this.splice(e,1),!1},window.setTabActive=h,window.addTabsHandlers=function(t){function e(){$(".tab-button").on("click",(function(){var e=$(this).attr("data-tab-name");t.hashOn&&(window.location.hash="tab="+e),h(e),"function"==typeof t.onTabChangeActions&&t.onTabChangeActions(e)}))}t=t||Object.create(null),"complete"!==document.readyState?$(document).ready((function(){e(),t.hashOn&&f()})):(e(),t.hashOn&&f());t.hashOn&&$(window).on("hashchange",(function(){f()}))},window.setActiveTabFromHash=f,window.setSearchValueFromStorage=v,$(document).ready(v),window.deleteButtonHandler=function(t,e,n){return makeConfirmModal("Delete","Cancel",(function(){S(".modal_window--confirm .modal_window__ok-button","Deleting..."),window.location=t.dataset.href}),"Delete "+e,n).show(),!1},window.afterSaveButton=function(){return"undefined"!=typeof submitForm&&""!=$("#act-form .search").val()&&1==__searchChanged?void submitForm():void window.location.reload()},window.changeNewLineOnBr=g,window.binomMessageWindow={messages:null,read_button:'<a class="button win-save-button message-read-button"><img src="templates/standart/images/w-save.png" class="icon save_icon">Read</a>',close_button:'<a class="button win-close-button message-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>',drawWindow:function(){$("body").append(this.makeWindow()),this.setMessageFromServer(),this.setListeners()},makeWindow:function(){return'<div id="wrap" class="wrap" style="display: block;"></div>\t\t\t\t<div class="window window_read_message" id="1" style="display:block;width:400px;">\t\t\t\t\t<a class="win_closebtn" onclick="binomMessageWindow.closeWindow()"></a>\t\t\t\t\t<div class="win_header">\t\t\t\t\t\t<span class="window_head_name" style="overflow:initial;">New message!</span>\t\t\t\t\t</div>\t\t\t\t\t<div class="win_cap">\t\t\t\t\t</div>\t\t\t\t\t<div class="win_content win_message_content">\t\t\t\t\t\t<img class="message-text-loading" width="75px" src="templates/standart/images/loading.GIF">\t\t\t\t\t</div>\t\t\t\t\t<div class="win_footer">\t\t\t\t\t'+this.makeFooter()+"\t\t\t\t\t</div>\t\t\t\t</div>"},closeWindow:function(){$(".window_read_message").remove(),$(".wrap").css("display","none")},makeMessageRead:function(t){t=this;return function(){t.messages.forEach((function(t){fetch(`./${window.API_URL}?action=messages@read&id=${t.id}`,{credentials:"include",method:"GET"}).catch(t=>console.error(t))})),$(".new_messages_menu_button").remove();var e=moment(new Date).toDate();$.cookie("check_msg",0,{expires:e}),t.closeWindow()}},setListeners:function(){$(".message-close-button").on("click",this.closeWindow),$(".message-read-button").on("click",this.makeMessageRead(this))},makeFooter:function(){return'<div class="win-buttons-block">'+this.read_button+this.close_button+"</div>"},insertMessageInWindow:function(t){"string"==typeof t?($(".window_read_message img.message-text-loading").remove(),$(".window_read_message .win_content").append(t)):Array.isArray(t)&&($(".window_read_message img.message-text-loading").remove(),t.forEach((function(t){$(".window_read_message .win_content").append(t.text),$(".window_read_message .win_content").append('<div style="border-top:1px solid #eee;margin-top:10px;margin-bottom:10px;"></div>')})))},setMessageFromServer:function(){var t=this;fetch(`./${window.API_URL}?action=messages@get_all`,{credentials:"include",method:"GET"}).then(t=>t.json()).then(e=>{t.messages=e.msg,t.insertMessageInWindow(e.msg)})}},window.doGetCaretPosition=k,window.insertTextAtCursor=b,window.moveCaret=function(t,e){var n,i;if(window.getSelection){if((n=window.getSelection()).rangeCount>0){var o=n.focusOffset+e;n.collapse(t,Math.min(t.length,o))}}else(n=window.document.selection)&&"Control"!=n.type&&((i=n.createRange()).move("character",e),i.select())},"x".constructor.prototype.addCommaSeparatorFloat=function(){return this.replace(/(?=\B(?:\d{3})+\b[\.])/g,",")},"x".constructor.prototype.addCommaSeparatorInt=function(){return this.replace(/(?=\B(?:\d{3})+\b)/g,",")},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},window.calcSumSearch=function(){var t={sum_clicks:0,sum_leads:0,sum_spend:0,sum_rev:0,sum_lpctr:0,sum_of_cl:0,sum_lnd_cl:0,sum_cr:0,sum_epc:0,sum_cpc:0},e=$(".table_stat .lpctr_td").length>0,n=0,i=0;re_comma=new RegExp("[,]","g"),$(".table_stat tr").each((function(o,a){"none"!=$(a).css("display")&&(t.sum_clicks+=parseFloat($(a).find(".clicks_td").html().replace(re_comma,"")),t.sum_leads+=parseFloat($(a).find(".leads_td").html().replace(re_comma,"")),t.sum_spend+=parseFloat($(a).find(".cost_td").html().replace(re_comma,"").replace("$","")),t.sum_rev+=parseFloat($(a).find(".revenue_td").html().replace(re_comma,"").replace("$","")),e&&(n+=parseInt($(a).find(".offer_clicks_hide").html().replace(re_comma,"")),i+=parseInt($(a).find(".landing_clicks_hide").html().replace(re_comma,""))))})),t.sum_lpctr=i>0?n/i*100:0;t.sum_clicks>0?t.sum_cr=t.sum_leads/t.sum_clicks*100:t.sum_cr=0;t.sum_clicks>0?t.sum_epc=t.sum_rev/t.sum_clicks:t.sum_epc=0;t.sum_clicks>0?t.sum_cpc=t.sum_spend/t.sum_clicks:t.sum_cpc=0;t.sum_profit=t.sum_rev-t.sum_spend,t.sum_spend>0?t.sum_roi=parseFloat(t.sum_profit)/parseFloat(t.sum_spend)*100:t.sum_roi=0;return t},window.disabledNongroupButtons=function(){$("#delete, #clone, #report, #edit").removeAttr("href"),$("#edit, #report, #clone, #note").attr("class","button_inactive"),$("#clear, #note").attr("onclick",""),$("#clear, #delete").attr("class","gray-button_inactive")},window.set_get=function(t,e,n){var i=e;if(-1==t.search(i))t=t+"&"+e+"="+n;else{var a=e+"="+o(e);t=t.replace(a,e+"="+n)}return t},window.tryToReturnPlaceholderSearch=function(t){0==$(t).val().length&&(t.placeholder="Search")},window.addZeroToNumber=y,window.download_land=function(){var t=$("[name = 'lp_name']").val(),e=new FormData;$.each(files,(function(t,n){e.append(t,n)}));var n=new I("#add_lp",{blocked_button_text:"Uploading"});n.block(),N($(".upload_land_button"),"Upload"),$.ajax({url:"?ajax=1&type=download_land&land_name="+t,method:"post",data:e,cache:!1,processData:!1,contentType:!1}).success((function(t){if(t.indexOf("Maximum number")+1)$("#download_land").parent().append("<p style='margin: 0;color: red;'>Exceeded the limit number of files</p>"),n.unblock(),$(".upload_land_button .sk-fading-circle").remove(),$(".upload_land_button").html('<img src="templates/standart/images/w-save.png" class="icon save_icon">Upload lander');else{var e=jQuery.parseJSON(t);$("#download_land").css("display","none"),$("#lp_file_block").css("display","block"),$("[name = 'lp_file']").css("display","block"),$("[name = 'lp_file']").val(e.path),$("#add_lp [name=lp_file]").prop("readonly",!0),$("#add_lp [name=lp_file]").addClass("readonly_input"),e.error&&$("#download_land").parent().append("<p style='margin: 0;color: red;'>"+e.error+"</p>"),n.unblock(),addCheckButtonToURL.init("input[name=lp_file]",!0)}})).error((function(t){413==t.status&&(makeBadAlertModal("OK","HTTP 413! Please, change your web-server's configuration \t\t\t\t\t\t\t\t\t (For Nginx: client_max_body_size, for Apache: LimitRequestBody)\t\t\t\t\t\t\t\t\t and try again.").show(),n.unblock(),addCheckButtonToURL.init("input[name=lp_file]",!0),$(".upload_land_button").html('<img src="templates/standart/images/w-save.png" class="icon save_icon">Upload lander'))}))},window.offerPageHelper={clipboard:-1,setZclipOnCopyBtn:function(){$("#copy_postback_url").zclip({path:"templates/standart/js/jquery-zclip/ZeroClipboard.swf",copy:$("#postback_url").val(),beforeCopy:function(){},afterCopy:function(){$("#copy_postback_url").addClass("blue-button"),$("#copy_postback_url").html("Done"),setTimeout((function(){$("#copy_postback_url").removeClass("blue-button"),$("#copy_postback_url").html("Copy")}),2e3)}})},addCopyFuncTobutton:function(){if(FlashDetect.installed)this.setZclipOnCopyBtn();else try{-1==this.clipboard&&(this.clipboard=new Clipboard("#copy_postback_url"),$("#copy_postback_url").replaceWith($("<button class='green-button' id='copy_postback_url' href='javascript:' data-clipboard-target='#postback_url'>Copy</button>")))}catch(t){$("#url_input").css({width:"100%"})}},windowEditingOfferURLByTemplate:function(t,e){var n=$(".window [name=of_networks]").attr("data-addurl");if($(".window [name=of_networks]").attr("data-addurl",""),""!=n&&"undefiend"!=typeof n&&(t=t.replace(n,"")),void 0===e||null==e)return t;for(var i,o,a=/[&\?]([^=]+)=([^=\&]*)?/g,s="",r=t,c=-1!=t.indexOf("?"),l={};i=a.exec(e);)l[i[1]]=i[2];for(o in l)l.hasOwnProperty(o)&&("{clickid}"==l[o]?-1==t.indexOf(l[o])&&(c?s+="&":(s+="?",c=!0),s+=o+"="+l[o]):-1==t.indexOf(o+"=")&&(c?s+="&":(s+="?",c=!0),s+=o+"="+l[o]));return s.length>0&&$(".window [name=of_networks]").attr("data-addurl",s),r+s},windowEditionOfferURLByTemplateClearURL:function(t){var e=$(".window [name=of_networks]").attr("data-addurl");return $(".window [name=of_networks]").attr("data-addurl",""),t.replace(e,"")}},window.landingPageHelper={clipboard:-1,setZclipOnCopyBtn:function(){$("#copy_btn10").zclip({path:"templates/standart/js/jquery-zclip/ZeroClipboard.swf",copy:$("#copy_value10").val(),beforeCopy:function(){},afterCopy:function(){$("#copy_btn10").addClass("blue-button"),$("#copy_btn10").html("Done"),setTimeout((function(){$("#copy_btn10").removeClass("blue-button"),$("#copy_btn10").html("Copy")}),2e3)}})},addCopyFuncTobutton:function(){if(FlashDetect.installed)this.setZclipOnCopyBtn();else try{-1==this.clipboard&&(this.clipboard=new Clipboard("#copy_btn10"),$("#copy_btn10").replaceWith($("<button class='green-button' id='copy_btn10' href='javascript:' data-clipboard-target='#copy_value10'>Copy</button>")))}catch(t){}}},window.addTokensToURL={list_of_tokens:{},opened_flag:!1,init:function(t,e,n){if(!this.opened_flag){this.opened_flag=!0,this.url_input=t,this.window_id=e;var i=new Array;"lp"==n&&i.push({param:"{lp_key}",value:{param:"lpkey",view:"LP Key"}}),"of"==n||"lp"==n?this.list_of_tokens={"{clickid}":{param:"clickid",view:"Click ID"},"{user_id}":{param:"user_id",view:"User ID"},"{campaign}":{param:"campaign",view:"Camp ID"},"{trafficsource}":{param:"trafficsource",view:"Traffic Source"},"{trafficsource_name}":{param:"trafficsource_name",view:"Traffic Source Name"},"{clickcost}":{param:"clickcost",view:"Click Cost"},"{lander}":{param:"lander",view:"Land ID"},"{domain}":{param:"domain",view:"Domain"},"{referer}":{param:"referer",view:"Referer"},"{time}":{param:"time",view:"Time"},"{htime}":{param:"htime",view:"Encoded Time"},"{device_name}":{param:"device_name",view:"Device Name"},"{device_brand}":{param:"device_brand",view:"Device Brand"},"{device_model}":{param:"device_model",view:"Device Model"},"{browser_name}":{param:"browser_name",view:"Browser Name"},"{browser_version}":{param:"browser_version",view:"Browser Version"},"{resolution}":{param:"resolution",view:"Resolution"},"{os_name}":{param:"os_name",view:"OS Name"},"{os_version}":{param:"os_version",view:"OS Version"},"{country}":{param:"country",view:"Country"},"{country_code}":{param:"country_code",view:"Ð¡ountry code"},"{language}":{param:"language",view:"Language"},"{city}":{param:"city",view:"City"},"{isp}":{param:"isp",view:"ISP"},"{ip}":{param:"ip",view:"IP"},"{user_agent}":{param:"user_agent",view:"User Agent"},"{t1}":{param:"t1",view:"Token 1"},"{t2}":{param:"t2",view:"Token 2"},"{t3}":{param:"t3",view:"Token 3"},"{t4}":{param:"t4",view:"Token 4"},"{t5}":{param:"t5",view:"Token 5"},"{t6}":{param:"t6",view:"Token 6"},"{t7}":{param:"t7",view:"Token 7"},"{t8}":{param:"t8",view:"Token 8"},"{t9}":{param:"t9",view:"Token 9"},"{t10}":{param:"t10",view:"Token 10"}}:"ts"==n&&(this.list_of_tokens={"{externalid}":{param:"externalid",view:"External ID"},"{payout}":{param:"payout",view:"Payout"}});for(var o=0;o<i.length;o++)this.list_of_tokens[i[o].param]=i[o].value;"ts"==n?this.url_input.after("<div class='url-tokens-block'>\t\t\t\t\t\t<a class='url-tokens-title'>You can use the following tokens:</a>\t\t\t\t\t\t\t\t<div class='url-tokens-list url-tokens-list-ts' >\t\t\t\t\t\t\t\t</div>\t\t\t\t</div>"):this.url_input.after("<div class='url-tokens-block'>\t\t\t\t\t\t<a class='url-tokens-title'>You can use the following tokens:</a>\t\t\t\t\t\t\t\t<div class='url-tokens-list url-tokens-list-lpof'>\t\t\t\t\t\t\t\t</div>\t\t\t\t</div>"),this.setHandlers(),this.setListOfTokens()}},checkInput:function(t){var e=t;return function(){"none"!=$(".url-tokens-list").css("display")&&e.setListOfTokens()}},setListOfTokens:function(){for(var t=this.url_input,e=Object.keys(this.list_of_tokens),n="",i=(e.filter((function(e){return-1==t.val().indexOf(e)})),0);i<e.length;i++)-1==t.val().indexOf(e[i])?n+="<span class='url-tokens-not-used' data-placeholder="+e[i]+"> <span class='url-tokens-name-plus'>+</span>"+this.list_of_tokens[e[i]].view+" </span>":n+="<span class='url-tokens-used' data-placeholder="+e[i]+"> <span class='url-tokens-name-minus'>-</span>"+this.list_of_tokens[e[i]].view+" </span>";$(".url-tokens-list").html(""),$(".url-tokens-list").append(n)},setHandlers:function(){$(".url-tokens-block").on("touchend click",".url-tokens-not-used",this.addToken(this)),$(".url-tokens-block").on("touchend click",".url-tokens-used",this.removeToken(this)),this.url_input.on("input",this.checkInput(this)),$("#"+this.window_id+" .win-close-button").on("click",this.closeTokens(this)),$("#"+this.window_id+" .win_closebtn").on("click",this.closeTokens(this))},toggleTokensList:function(t){var e=t;return function(){"none"==$(".url-tokens-block .url-tokens-list").css("display")?($(".url-tokens-block .url-tokens-list").css("display","block"),e.setListOfTokens()):e.closeTokens()}},toggleTokenChooser:function(t){t.hasClass("url-tokens-not-used")?(t.removeClass("url-tokens-not-used"),t.addClass("url-tokens-used"),t.find(".url-tokens-name-plus").html("-").removeClass("url-tokens-name-plus").addClass("url-tokens-name-minus")):t.hasClass("url-tokens-used")&&(t.removeClass("url-tokens-used"),t.addClass("url-tokens-not-used"),t.find(".url-tokens-name-minus").html("+").removeClass("url-tokens-name-minus").addClass("url-tokens-name-plus"))},addToken:function(){var t=this;return function(){var e=$(this).attr("data-placeholder"),n=t.url_input.val();"="!=t.url_input.val()[t.url_input.val().length-1]?-1!=n.indexOf("?")?n.indexOf("?")==n.length-1?t.url_input.val(n+t.list_of_tokens[e].param+"="+e):t.url_input.val(n+"&"+t.list_of_tokens[e].param+"="+e):t.url_input.val(n+"?"+t.list_of_tokens[e].param+"="+e):t.url_input.val(n+e),t.toggleTokenChooser($(this)),$(this).html($(this).html().replace("+","-")),t.url_input.trigger("change"),t.url_input.focus(),M()}},removeToken:function(t){var e=t;return function(){var t,n=e.url_input.val(),i=new RegExp("[&?]*[0-9a-zA-Z_-~.!*'()]*=?"+this.getAttribute("data-placeholder"),"g");(t=e.url_input.val(n.replace(i,"")).val())!=n&&(e.toggleTokenChooser($(this)),-1==t.indexOf("?")&&e.url_input.val(t.replace("&","?"))),e.url_input.trigger("change"),e.url_input.focus(),M()}},closeTokens:function(t){var e=t;return function(){return $(".url-tokens-block").css("display","none"),$(".url-tokens-block").remove(),e.opened_flag=!1,"xxx"}}},window.noteWindowTokens={input_selector:"",temp_timeout:"",textarea_focused:0,time_now:"",init:function(t){this.clearTokens(),this.input_selector=t,$(t).parent().append(this.makeHtmlBlock()),this.setHandlers()},clearTokens:function(){$(this.input_selector).parent().find(".note-tokens").length>0&&$(this.input_selector).parent().find(".note-tokens-wrapper").remove()},drawTokens:function(){},makeFunctionWriter:function(t){var e=this;return function(n){if(!$(this).hasClass("note-tokens-disabled")){n=n||window.event;var i=$(this);n.preventDefault(),t((function(t){0==k(document.getElementById(e.input_selector.replace("#","")))&&0==e.textarea_focused?0==$(e.input_selector).val().trim().length?$(e.input_selector).val($(e.input_selector).val()+t):$(e.input_selector).val($(e.input_selector).val()+"\n"+t):b(document.getElementById(e.input_selector.replace("#","")),t),document.getElementById(e.input_selector.replace("#","")).focus(),i.addClass("note-tokens-disabled"),setTimeout((function(){i.removeClass("note-tokens-disabled")}),1e3),"add_camp"==BINOM.__pageType&&somethingWasChanged()}))}}},setHandlers:function(){for(var t=0;t<this.list_of_tokens.length;t++)$(".note_token_"+this.list_of_tokens[t].class_postfix).on("click",this.makeFunctionWriter(noteWindowTokens[this.list_of_tokens[t].action]));var e=this;$(this.input_selector).on("click",(function(){e.textarea_focused=1}))},list_of_tokens:[{name:"Time",class_postfix:"time",action:"getTime"},{name:"Date",class_postfix:"date",action:"getDate"},{name:"Datetime",class_postfix:"Datetime",action:"getDateTime"}],parseDate:function(t){return t.getFullYear()+"-"+y(t.getMonth()+1)+"-"+y(t.getDate())+" "},parseTime:function(t){return y(t.getHours())+":"+y(t.getMinutes())+" "},parseDateTime:function(t){return t.getFullYear()+"-"+y(t.getMonth()+1)+"-"+y(t.getDate())+" "+y(t.getHours())+":"+y(t.getMinutes())+" "},getDateFromClient:function(){return noteWindowTokens.parseDate(new Date)},getTimeFromClient:function(){return noteWindowTokens.parseTime(new Date)},getDateTimeFromClient:function(){return noteWindowTokens.parseDateTime(new Date)},getTime:function(t){$.ajax({url:"",type:"post",data:{ajax:1,type:"get_current_date_time"},success:function(e){try{x=new Date(e),x=noteWindowTokens.parseTime(x),t(x)}catch(e){t(noteWindowTokens.getTimeFromClient())}},error:function(){t(noteWindowTokens.getTimeFromClient())}})},getDate:function(t){$.ajax({url:"",type:"post",data:{ajax:1,type:"get_current_date_time"},success:function(e){try{x=new Date(e),x=noteWindowTokens.parseDate(x),t(x)}catch(e){t(noteWindowTokens.getDateFromClient())}},error:function(){t(noteWindowTokens.getDateFromClient())}})},getDateTime:function(t){$.ajax({url:"",type:"post",data:{ajax:1,type:"get_current_date_time"},success:function(e){try{t(e+" ")}catch(e){t(noteWindowTokens.getDateTimeFromClient())}},error:function(){t(noteWindowTokens.getDateTimeFromClient())}})},makeHtmlBlock:function(){return"<div class='note-tokens-wrapper'>"+this.makeListOfTokens()+"</div>"},makeListOfTokens:function(){for(var t="",e=0;e<this.list_of_tokens.length;e++)t+=" <span class='note-tokens note_token_"+this.list_of_tokens[e].class_postfix+"' >"+this.list_of_tokens[e].name+" </span> ";return t}},window.replacerMinutes=function(t,e,n){return e+":00"},window.addAllWrapsClickHandler=O,window.create_qr=M,window.hide_qr=function(){$("#qrcode").css("display","none"),$("#qrcode").css("opacity","0")},window.show_qr=function(t){var e=$(t).offset(),n=e.left,i=e.top;$("#qrcode").css("left",n-245),$("#qrcode").css("top",i+30),$("#qrcode").css("display","block"),$("#qrcode").animate({opacity:1},120)},$(document).ready((function(){var t,e;t=navigator.userAgent.toLowerCase(),e=function(e){return-1!=t.indexOf(e)},$(".body-container").addClass([e("x11")||e("linux")?" linux_os":e("mac")?" mac_os":e("win")?" win_os":" default_os"].join("")),$("body").addClass([e("x11")||e("linux")?" linux_os":e("mac")?" mac_os":e("win")?" win_os":" default_os"].join(""));O(),setTimeout((function(){$(document).trigger("resize")}),50)})),window.safeStringEscape=function(t){var e=new RegExp("'","g");return t=t.replace(e,(function(t){return""}))},window.cutTheString=T,window.noteWindow={init:function(t,e,n){if(void 0===n&&(n=!0),this.stars=n,0==this.window_opened)if(void 0!==t){this.window_opened=1,this.id=t,this.object_type=e,this.row_name=$(".selected_row td.name_td span span").eq(0).text(),"camp"!=this.object_type||this.row_name||(this.row_name=$("#logo_text").text().replace("Binom / Stats: ","")),this.setAjaxTypesAndClassName(e);this.getNote(this.id,this.noteWindow())}else console.error("noteWindow Error: ID not found")},clear_note:function(){this.id=0,this.object_type=0,this.window_opened=0},window_opened:0,id:0,object_type:"",row_name:"",ajax_get_type:"",ajax_save_type:"",row_class_name:"",setAjaxTypesAndClassName:function(t){"landing"==t?(this.ajax_get_type="get_landing_note",this.ajax_save_type="save_landing_note",this.row_class_name="land"):"offer"==t?(this.ajax_get_type="get_offer_note",this.ajax_save_type="save_offer_note",this.row_class_name="offer"):"camp"==t&&(this.ajax_get_type="node",this.ajax_save_type="node_camp_id",this.row_class_name="campaign")},getNote:function(t,e){var n="id";"camp"==this.object_type&&(n="camp_id");var i={ajax:1,type:this.ajax_get_type};i[n]=t,$.ajax({type:"post",url:"",data:i,success:function(t){e(t)}})},noteWindow:function(){var t=this;return function(e){C(),$("body").append(noteWindow.getWindowHTML()),$("#note_window textarea").val(e),t.setListeners(),noteWindowTokens.init("#node_text"),$(window).trigger("resize")}},setListeners:function(){$("#note_window .note-save-button").on("click",this.saveNote()),$("#note_window .note-close-button").on("click",this.clearWindow()),$("#note_window .win_closebtn").on("click",this.clearWindow())},saveNote:function(){var t=this;return function(){var e="id";"camp"==t.object_type&&(e="camp_id");var n=$("#note_window textarea").val(),i={ajax:1,type:t.ajax_save_type,text:n};i[e]=t.id,$.ajax({url:"",type:"post",data:i}).success((function(e){""!=n?t.addStarToRow():t.clearStarFromRow(),t.clearWindow()()}))}},clearWindow:function(){var t=this;return function(){t.clear_note(),$(".wrap.note_window_wrap").remove(),$("#note_window").remove()}},addStarToRow:function(){BINOM.tt.tableData,BINOM.tt.updateRowViaClusterize(this.id,(function(t){var e=document.createElement("template");e.innerHTML=t;var n=e.content.childNodes[0].getElementsByClassName("name_td")[0].getElementsByTagName("span")[0];return 0==n.getElementsByTagName("img").length&&(n.innerHTML+='<img style="margin-left:4px;" width="9px" src="templates/standart/images/green-star.png">'),e.innerHTML}));var t=BINOM.tt.tableData.findIndexObjectByProp("id",this.id);BINOM.tt.tableData[t].is_note="1"},clearStarFromRow:function(){BINOM.tt.updateRowViaClusterize(this.id,(function(t){var e=document.createElement("template");return e.innerHTML=t,e.content.childNodes[0].getElementsByClassName("name_td")[0].getElementsByTagName("span")[0].getElementsByTagName("img")[0].outerHTML="",e.innerHTML}));var t=BINOM.tt.tableData.findIndexObjectByProp("id",this.id);BINOM.tt.tableData[t].is_note="0"},getWindowHTML:function(){return'<div id="wrap" class="wrap note_window_wrap" style="display: block;"></div>\t\t\t\t\t<div class="window" id="note_window" style="display: block; width:600px;height:600px;">\t\t\t\t\t\t<a class="win_closebtn"></a>\t\t\t\t\t\t<div class="win_header">\t\t\t\t\t\t\t<span class="window_head_name" title="'+this.row_name+'">Note:'+T(this.row_name,50)+' </span>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="win_cap ">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="win_content" >\t\t\t\t\t\t\t<textarea id="node_text" style="width:100%; height:500px;resize:none;border:1px solid #ccc;"></textarea>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="win_footer ">\t\t\t\t\t\t\t<div class="win-buttons-block">\t\t\t\t\t\t\t\t<a class="button win-save-button note-save-button"><img src="templates/standart/images/w-save.png" class="icon save_icon">Save</a>\t\t\t\t\t\t\t\t<a class="button win-close-button note-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>'}},window.closeAnotherWindows=C,window.makeButtonInProcess=S,window.importWindow={object_type:"",ajax_type:"import_from_textarea",window_opened:0,sending_state:0,init:function(t){this.window_opened=1,this.setObjectName(t),this.drawWindow(),this.setHandlers()},setObjectName:function(t){"landing_page"==t?this.object_type="landing":"offers"==t&&(this.object_type="offer")},setHandlers:function(){$(".import-list-save-button").on("click",this.sendImportList()),$(".import-list-close-button").on("click",this.closeWindow()),$("#import_list_window .win_closebtn").on("click",this.closeWindow())},drawWindow:function(){C(),$("body").append(this.getWindowHTML())},clearProperties:function(){importWindow.object_type="",this.window_opened=0},clearWindow:function(){$(".wrap.import_list_window_wrap").remove(),$("#import_list_window").remove()},disableSaveButton:function(){$("#import_list_window .win-save-button").html("").append("Sending").append('<div class="sk-fading-circle">\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t</div>')},enableSaveButton:function(){$("#import_list_window .win-save-button").html("").append('<img src="templates/standart/images/w-save.png" class="icon save_icon">Import')},sendImportList:function(){var t=this;return function(){1!=t.sending_state&&(t.disableSaveButton(),t.sending_state=1,$.ajax({url:"",type:"post",data:{ajax:1,type:t.ajax_type,text:$("#import_list_text").val(),object_type:t.object_type}}).done((function(e){(t.sending_state=0,t.enableSaveButton(),"error"!=(e=JSON.parse(e)).status)?makeGoodAlertModal("OK",e.status,{cross_button_hide:!0,footer_ok_callback:function(){N($(".modal_window__ok-button"),"Reloading"),window.location.reload()}}).show():makeBadAlertModal("OK",g(e.error)).show()})))}},closeWindow:function(){var t=this;return function(){t.clearProperties(),t.clearWindow()}},getInfoMessage:function(){return"landing"==this.object_type?"<p style='margin-top:0px;font-size:11px;'>Name|URL [|Group|Lang|Offers] &nbsp;&nbsp;&nbsp;  [] - optional</p>":"offer"==this.object_type?"<p style='margin-top:0px;' ><span style='margin-top:0px;font-size:11px;margin-bottom:8px;'>Name|URL|Payout/Auto [|Geo(US,UK etc.)|Group|Aff. network|Upsell(\"Upsell\" or nothing)]\t\t\t<span style='padding-left:15px;font-size:11px;'> [] - optional</span></p>":void 0},getWindowHTML:function(){return'<div id="wrap" class="wrap import_list_window_wrap" style="display: block;"></div>\t\t\t<div  class="window" id="import_list_window" style="display: block; width:600px;height:600px;">\t\t\t<a onclick="notewindow_hide(this);" class="win_closebtn"></a>\t\t\t<div class="win_header">\t\t\t\t<span class="window_head_name">'+this.object_type.capitalizeFirstLetter()+' import </span>\t\t\t</div>\t\t\t<div class="win_cap ">\t\t\t</div>\t\t\t<div class="win_content" >\t\t\t\t'+this.getInfoMessage()+'\t\t\t\t<textarea id="import_list_text" style="width:100%; height:500px;resize:none;border:1px solid #ccc;"></textarea>\t\t\t</div>\t\t\t<div class="win_footer ">\t\t\t\t<div class="win-buttons-block">\t\t\t\t\t<a class="button win-save-button import-list-save-button"><img src="templates/standart/images/w-save.png" class="icon save_icon">Import</a>\t\t\t\t\t<a class="button win-close-button import-list-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>\t\t\t\t</div>\t\t\t</div>\t\t</div>'}},window.windowBlocker=I,window.makeWindowLoaded=function(t){$(t+" .win_content").height();$(t+" .win_closebtn").unbind(),$(t+" .win_closebtn").attr("onclick",""),$(t+" .win-save-button").attr("onclick",""),$(t+" .win-save-button").unbind("click"),$(t+" .win-close-button").attr("onclick",""),$(t+" .win-close-button").unbind("click"),$(t+" .win-close-button").addClass("button_inactive"),$("body").off("click",".wrap"),$(t+" .win-save-button").html("").append("Updating").append('<div class="sk-fading-circle">\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t</div>'),$(t+" .win_content").append("<div class='window-wrapper-block'></div>")},window.makeModalWindowLoaded=B,window.makeButtonLoaded=N,window.rightblock=D,window.getKeyCode=L,window.addKeyboardHandlers=A,window.openStatTab=j,window.closeStatTab=E,window.onReadyToggleTabState=function(t){return},window.toggleTabState=function(){if(BINOM.tt&&BINOM.tt.isFetchingData)return;BINOM.tt&&(BINOM.tt.tableOptions.tabOpen?(E(),window.vmStore&&window.vmStore.commit("TT/SET_TAB_STATE",!1)):(j(),window.vmStore&&window.vmStore.commit("TT/SET_TAB_STATE",!0)));return},window.checkLocalStorageActive=R,$(document).ready(D),$(document).ready(A),window.makeFilterBlockRefreshButtonApply=H,window.makeFilterBlockApplyButtonRefresh=Y,window.setActFormOnChangeSelect=W,$(document).ready((function(){W()})),$(window).resize(D),window.hideTablePreload=function(){$(".body-container").height(window.innerHeight-$(".body-container").offset().top-45),$(".body-container table").css("display","none"),$(".body-container").append('<div class="table-load">\t\t<div class="sk-fading-circle sk-fading-circle-black">\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t</div>\t\t</div>'),$(".table-load").css("width","100%").css("height","100%"),$(".table-load .sk-fading-circle").css({width:"60px",height:"60px",top:"calc(50% - 30px)",left:"calc(50% - 30px)",position:"absolute"})},window.showTablePostLoad=function(){$(".table-load").remove(),$(".body-container table").css("display","table")},window.makeCode=P,window.findOpenedWindow=U,window.addCheckButtonToURL={block:$("<div>Test</div>").addClass("check_url_button"),url_selector:"",init:function(t,e){var n;void 0===e&&(e=!1),$(".check_url_button").remove(),$(t).off("keyup",this.checkInputFunction),this.url_selector=t,this.relative=e,n=$(t),this.relative=e,this.block.removeClass("check_url_button_inactive"),this.block.removeClass("check_url_button_active"),$(t).val().length>0?this.block.addClass("check_url_button_active"):this.block.addClass("check_url_button_inactive"),n.after(this.block),this.setHandlers()},setHandlers:function(){$(".check_url_button").on("click",this.makeCheckFunction(this)),$(this.url_selector).on("keyup change",this.checkInputFunction)},makeCheckFunction:function(t){t=t;return function(){var e,n=$(t.url_selector).val().trim();if(""!=n)try{(e=t.editforCorrectURL(n)).indexOf("{lp_key}")>-1?$.ajax({url:"",type:"get",async:!1,data:{ajax:1,type:"lp_key"}}).success((function(t){e=e.replace("{lp_key}",t),(this.relative,window.open(e,"_blank")).focus()})):window.open(e,"_blank").focus()}catch(t){makeBadAlertModal("Close","Cant check this URL.").show()}}},editforCorrectURL:function(t){return this.relative||0==t.indexOf("http://")||0==t.indexOf("https://")?t:"http://"+t},checkInputFunction:function(t){0==$(this).val().length?$(".check_url_button").removeClass("check_url_button_active").addClass("check_url_button_inactive"):$(".check_url_button").removeClass("check_url_button_inactive").addClass("check_url_button_active")}},window.Modal=function(t,e,n,i){this.header_text=t,this.content=e,this.footer=n,this.css_class=i.css_class,this.css_id="modal"+($(".modal_window").length+1),this.getSelector=function(t){var e=t.trim().split(" ");return"."+(e.length>1?e.join("."):e[0])},this.css_selector=this.getSelector(this.css_class),this.styles=i.styles,this.wrap=i.wrap,this.footer_ok_callback=i.footer_ok_callback,this.footer_cancel_callback=i.footer_cancel_callback,this.cross_button_hide=i.cross_button_hide,this.closing_ok_wrap=i.closing_ok_wrap,this.hide_if_overflow=i.hide_if_overflow,this.show=function(){if(!(this.hide_if_overflow&&$(".modal_window").length>0)){1==this.wrap&&this.showWrapper();var t=this.makeWindow();this.checkHandlersInnerMethods(),$("body").append(t),this.addHandlers()}},this.makeWindow=function(){null==this.footer||this.getFooterHTML;var t=$("<div></div>").addClass("modal_window").addClass(this.css_class).attr("id",this.css_id).css("z-index",this.getZindex()).append(this.getHeaderHTML()).append(this.getContentHTML(this.content)).append(this.getFooterHTML());for(var e in this.styles)if(this.styles.hasOwnProperty(e))try{t.css(e,this.styles[e])}catch(t){console.error("#Modal style error#"),console.error(t)}return t},this.showWrapper=function(){$(".modal_wrap").length>1&&$(".modal_wrap").eq(0).css("opacity",.4),$("body").append(this.getWrapHTML())},this.getWrapHTML=function(){return"<div class='modal_wrap "+this.css_class.trim()+"_wrap' style='opacity:"+this.getWrapOpacity()+";z-index:"+this.getZindex()+"' ></div>"},this.getContentHTML=function(t){return"<div class='modal_window_content'>"+t+"</div>"},this.getHeaderHTML=function(){var t=""==this.header_text?"modal_window__header--empty_text":"",e=this.cross_button_hide?"":"<a class='win_closebtn'></a>";return"<div class='modal_window__header "+t+"'><h1>"+this.header_text+"</h1>"+e+"</div>"},this.getFooterHTML=function(){return"<div class='modal_window__footer'>"+this.footer+"</div>"},this.getZindex=function(){return 1e4+$(".modal_window").length},this.getWrapOpacity=function(){return.8/($(".modal_wrap").length+1)};var o=this;this.removeWindow=function(t){void 0===t&&(t=this.css_selector),$(".modal_window"+t).remove(),$(".modal_wrap"+t+"_wrap").remove(),$("body").off("click",".modal_window"+o.css_selector+" .modal_window__ok-button"),$("body").off("click",".modal_window"+o.css_selector+" .modal_window__cancel-button",o.footer_cancel_callback)},this.close=function(){this.removeWindow.call(this.removeWindow,this.css_selector),$("body").off("click",".modal_window"+this.css_selector+" .win_closebtn")},this.makeRemoveWindowhandler=function(){var t=this;return function(){t.removeWindow.call(this.removeWindow,t.css_selector),$("body").off("click",".modal_window"+t.css_selector+" .win_closebtn")}},this.checkHandlersInnerMethods=function(){"close"==this.footer_ok_callback&&(this.footer_ok_callback=this.makeRemoveWindowhandler())},this.makeClosingWrappedCallback=function(t){var e=this;return function(){t(),e.removeWindow(e.css_selector)}},this.clearOKHandler=function(){$(".modal_window"+this.css_selector+" .modal_window__ok-button").off("click")},this.addHandlers=function(){var t;$(".modal_window"+this.css_selector+" .win_closebtn").on("click",this.makeRemoveWindowhandler()),$(".modal_window"+this.css_selector+" .modal_window__cancel-button").on("click",this.makeRemoveWindowhandler()),null!=this.footer_ok_callback&&(t=this.closing_ok_wrap?this.makeClosingWrappedCallback(this.footer_ok_callback):this.footer_ok_callback,$(".modal_window"+this.css_selector+" .modal_window__ok-button").on("click",t)),null!=this.footer_cancel_callback&&$(".modal_window"+this.css_selector+" .modal_window__cancel-button").on("click",this.footer_cancel_callback)}},window.makeConfirmModal=function(t,e,n,i,o,a){var s="";void 0!==a&&a.css_class&&(s=a.css_class);var r='<div class="modal_window__buttons-block">\t\t\t <a class="button modal_window__ok-button" ><img src="templates/standart/images/w-ok.png" class="icon save_icon">'+t+'</a>\t\t\t <a class="button  modal_window__cancel-button" ><img src="templates/standart/images/w-close.png" class="icon close_icon">'+e+"</a>\t\t\t</div>",c={css_class:"modal_window--confirm"+s,styles:{width:"440px",height:"auto","min-height":"50px",overflow:"hidden"},wrap:!0,footer_ok_callback:n};return void 0!==a&&$.extend(c,a),new Modal(i,o,r,c)},window.makeBadAlertModal=function(t,e,n){void 0===n&&(n={});var i='<div class="modal_window__buttons-block">\t\t\t <a class="button modal_window__cancel-button" ><img src="templates/standart/images/w-close.png" class="icon close_icon">'+t+"</a>\t\t\t</div>",o={css_class:"modal_window--alert modal_window--bad-alert",styles:{width:"440px",height:"auto","min-height":"50px",overflow:"hidden"},wrap:!n.wrap||n.wrap};return void 0!==n&&$.extend(o,n),new Modal("",e,i,o)},window.makeGoodAlertModal=function(t,e,n){var i='<div class="modal_window__buttons-block">\t\t\t <a class="button modal_window__ok-button" ><img src="templates/standart/images/w-ok.png" class="icon close_icon">'+t+"</a>\t\t\t</div>",o={css_class:"modal_window--alert modal_window--good-alert",styles:{width:"440px",height:"auto","min-height":"50px",overflow:"hidden"},wrap:!0};return void 0!==n&&$.extend(o,n),new Modal("",e,i,o)},window.makeLoadingModal=function(t,e,n){var i='<div class="modal_window__buttons-block">\t\t\t <a class="button modal_window__ok-button" ><img src="templates/standart/images/w-ok.png" class="icon close_icon">'+t+"</a>\t\t\t</div>",o={css_class:"modal_window--alert modal_window--good-alert",styles:{width:"440px",height:"auto","min-height":"50px",overflow:"hidden"},wrap:!0,cross_button_hide:!0};this.modal_window=new Modal("",e,i,o),this.show=function(){this.modal_window.show(),B("#"+this.modal_window.css_id,t)},this.close=function(){this.modal_window.removeWindow()},void 0!==n&&$.extend(o,n)},window.NetworkWindowStatusPayoutOptions={number:0,window_obj:new Object,network_id:0,network_options_list:{},network_options_using:0,network_options_approve:{},init:function(t,e,n){this.network_id=n||t.find("[name=win_net_id]").val(),this.window_obj=t,t.find(".network-status-options").length>0||("create"==e?(this.drawInitOptions(),this.addHandlers()):"edit"==e&&(this.addLoadingAnimation(),this.getOptionsAjax(this.network_id)))},hideOptions:function(){this.window_obj.find(".network-status-options").css("display","none")},addLoadingAnimation:function(){N(this.window_obj.find(".win-save-button"),"loaded"),this.window_obj.find(".win-save-button").attr("onclick","")},removeLoadAnimation:function(){this.window_obj.find(".network-status-options__loading-animation").remove(),this.window_obj.find(".win-save-button").html(""),this.window_obj.find(".win-save-button").html('<img src="templates/standart/images/w-save.png" class="icon save_icon">Save'),this.window_obj.find(".win-save-button").attr("onclick","check_net_form()")},drawInitOptions:function(){this.number+=1,this.window_obj.find(".win_content form").append(this.makeToggler()).append($(this.makeBlock()).css("display","none")),this.window_obj.find(".network-status-options__loading-animation")&&this.removeLoadAnimation(),$(".network-status-options__button-delete").on("click",this.makeRemoveLineHandler()),this.setToggleState()},setOptionsUsing:function(t){var e=this.window_obj.find(".network-status-options__using-checkbox"),n=this.window_obj.find(".network-status-options");1==t&&(e.prop("checked",!0),n.css("display","block"))},setLoadedData:function(t){this.network_options_using=t.options_using,this.network_options_list=t.options.options_list,this.network_options_approve=t.options.approve},redrawOptions:function(t,e){this.network_options_using=t,this.network_options_list=e,this.network_id=0,this.removeAllLines(),this.drawOptionsInputs(),t?this.openOptions():this.closeOptions()},removeAllLines:function(){$(".network-status-options__line").remove()},drawOptionsInputs:function(){for(var t,e=0;e<this.network_options_list.length;e++)(t=this.addLine()).find(".network-status-options__approve-radio").val(this.network_options_list[e][0]),t.find(".network-status-options__status-input").val(this.network_options_list[e][0]),t.find(".network-status-options__payout-input").val(this.network_options_list[e][1]),$(".network-status-options__line-wrapper").append(t);0==this.network_options_list.length&&(t=this.addLine(),$(".network-status-options__line-wrapper").append(t))},drawLoadedOptions:function(t){var e,n,i=this.window_obj.find(".win_content form");n=1==this.network_options_using?"block":"none",i.append(this.makeToggler()).append($(this.makeWrapper()).css("display",n).append(this.makeControlBlock()).append(this.makeLineWrapper()).append(this.makeButtonAdd())),1==this.network_options_using&&($(".network-status-options__using-checkbox").prop("checked",!0),$(".network-status-options__toggle-description").css("display","inline"));for(var o=0;o<this.network_options_list.length;o++)(e=this.addLine()).find(".network-status-options__approve-radio").val(this.network_options_list[o][0]),this.network_options_approve==this.network_options_list[o][0]&&e.find(".network-status-options__approve-radio").prop("checked",!0),e.find(".network-status-options__status-input").val(this.network_options_list[o][0]),e.find(".network-status-options__payout-input").val(this.network_options_list[o][1]),$(".network-status-options__line-wrapper").append(e);this.removeLoadAnimation(),this.addHandlers(),this.setToggleState()},makeControlBlock:function(){return'<div class="network-status-options__control-block">\t\t\t\t\t'+this.makeCheckBox()+"\t\t\t\t</div>"},makeToggler:function(){return'<div class="field_span network-status-options-header">\t\t\t\t\t\t<span style="width: 150px;">Status-payout relation</span> \t\t\t\t\t</div>\t\t\t\t\t<div class="field_input network-status-options-description" style="margin-bottom: 0px;">\t\t\t\t\t\t<input type="checkbox" name="options_using" class="network-status-options-toggler network-status-options__using-checkbox" style="margin-left: -2px;display: inline !important;width: 15px;">\t\t\t\t\t\t<span class="network-status-options__toggle-description" style="display:none; position: relative; top:-5px;">If conversion status = A then Payout = B</span>\t\t\t\t\t</div>'},setToggleState:function(){},makeCheckBox:function(){return""},makeBlock:function(){return $(this.makeWrapper()).append(this.makeControlBlock()).append($(this.makeLineWrapper()).append(this.makeLine())).append(this.makeButtonAdd())},makeWrapper:function(){return'<div class="network-status-options"></div>'},makeLineWrapper:function(){return'<div class="network-status-options__line-wrapper"></div>'},makeLine:function(t){return void 0===t&&(t=1),"<div data-number="+t+' class="network-status-options__line">\t\t\t\t\t<input placeholder="Conversion status" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'Conversion status\'" class="settings_input classic_input_narrow network-status-options__status-input" name="status-option[]">\t\t\t\t\t<input placeholder="Payout or token {payout}" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'Payout or token {payout}\'" class="settings_input classic_input_narrow network-status-options__payout-input" name="payout-option[]">\t\t\t\t\t\x3c!-- '+this.makeLineRadio(this.number)+" --\x3e\t\t\t\t\t"+this.makeButtonDelete()+"\t\t\t\t</div>"},makeLineRadio:function(){return'<label><input type="radio" class="network-status-options__approve-radio" name="approve-option" value="xx">Is approve</label>'},makeButtonAdd:function(){return' <a class="button network-status-options__button-add" ><img src="templates/standart/images/w-add.png" class="icon close_icon">Add</a>'},makeButtonDelete:function(){return'<a class="network-status-options__button-delete"></a>'},makeAddLineButtonHadler:function(){var t=this;return function(){t.addLine()}},makeRemoveLineHandler:function(){var t=this;return function(){$(this).parent().remove(),t.number=t.number-1}},toggleHandler:function(){"block"==$(".network-status-options").css("display")?this.closeOptions():this.openOptions(),this.setToggleState()},openOptions:function(){$(".network-status-options").css("display","block"),$(".network-status-options__toggle-description").css("display","inline"),$(".network-status-options-header").css("margin-bottom","0px"),$("input[name=options_using]").prop("checked",!0)},closeOptions:function(){$(".network-status-options__toggle-description").css("display","none"),$(".network-status-options").css("display","none"),$(".network-status-options-header").css("margin-bottom","25px"),$("input[name=options_using]").prop("checked",!1)},makeTogglerHandler:function(){var t=this;return function(){t.toggleHandler()}},makeBlockRemoveHandler:function(){var t=this;return function(){t.removeOptions()}},makeRadioButtonValueHandler:function(){return function(){$(this).parent().parent().find(".network-status-options__approve-radio").val($(this).val())}},removeOptions:function(){this.number=0,this.window_obj={},$(".network-status-options").remove(),$(".network-status-options-toggler").remove(),$(".network-status-options-header").remove(),$(".network-status-options-description").remove()},getLineBlockObject:function(t){return $(".network-status-options__line-wrapper").find("[data-number="+t+"]")},addLine:function(){if(!(this.number>9)){var t;this.number+=1,t=this.makeLine(this.number),$(".network-status-options__line-wrapper").append(t);var e=this.getLineBlockObject(this.number);return e.find(".network-status-options__button-delete").on("click",this.makeRemoveLineHandler()),e.find(".network-status-options__status-input").on("change keypress",this.makeRadioButtonValueHandler()),e}},addHandlers:function(){$(".network-status-options__button-add").on("click",this.makeAddLineButtonHadler()),$(".network-status-options-toggler").on("click",this.makeTogglerHandler()),this.window_obj.find(".win_closebtn").on("click",this.makeBlockRemoveHandler()),this.window_obj.find(".win-close-button").on("click",this.makeBlockRemoveHandler())},getOptionsAjax:function(t){$.ajax({type:"post",data:{ajax:1,type:"get_network_options",id:t},success:function(t){null!=(t=JSON.parse(t)).options&&""!=t.options.options_list?(NetworkWindowStatusPayoutOptions.setLoadedData(t),NetworkWindowStatusPayoutOptions.drawLoadedOptions(t),0==t.options_using&&NetworkWindowStatusPayoutOptions.hideOptions()):(NetworkWindowStatusPayoutOptions.drawInitOptions(),NetworkWindowStatusPayoutOptions.setOptionsUsing(t.options_using),NetworkWindowStatusPayoutOptions.addHandlers())}})}},window.makeOpacityColorize=F,window.removeErrorBorder=G,$(document).ready((function(){F(),v(),$("body").on("change input",".error_field_border:not(.no_clear_error_on_input)",(function(){G(this)}))})),window.loaderAnimation=function(){this.addLoadingAnimation=function(t,e){e.width?(width=e.width,height=width):e.height&&(height=e.height,width=height);var n='<div style="text-align:center">\t\t\t\t\t\t\t\t<div style="width:'+width+";height:"+height+';" class="sk-fading-circle sk-fading-circle-black">\t\t\t\t\t\t\t\t  <div class="sk-circle1 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle2 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle3 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle4 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle5 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle6 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle7 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle8 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle9 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle10 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle11 sk-circle"></div>\t\t\t\t\t\t\t\t  <div class="sk-circle12 sk-circle"></div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>';$(t).append(n)},this.removeLoadingAnimation=function(t,e){$(t+"sk-fading-circle").remove()}},window.groupEditWindowLandings=function(){var t="group-edit-landing-window",e="#"+t,n=new Array;function i(){return'<div id="wrap" class="wrap '+t+'_wrap" style="display: block;"></div>\t\t\t\t <div class="window" id="'+t+'" style="width:600px;height:200px;">\t\t\t\t\t <a onclick="notewindow_hide(this);" class="win_closebtn"></a>\t\t\t\t\t <div class="win_header">\t\t\t\t\t\t <span class="window_head_name">Edit landings</span>\t\t\t\t\t </div>\t\t\t\t\t <div class="win_cap ">\t\t\t\t\t </div>\t\t\t\t\t <div class="win_content" style="height:140px">\t\t\t\t\t\t<div class="field_input">\t\t\t\t\t\t\t<span class="left_field">Domain</span>\t\t\t\t\t\t\t<div class="right_field">\t\t\t\t\t\t\t\t<input type="text" name="lp_group_domain"\t\t\t\t\t\t\t\t \tplaceholder="Do not change"\t\t\t\t\t\t\t\t\tonfocus="this.placeholder=\'\'"\t\t\t\t\t\t\t\t\tonblur="this.placeholder=\'Do not change\'" />\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<span class="left_field">Group</span>\t\t\t\t\t\t\t<div class="right_field">\t\t\t\t\t\t\t\t<select name="lp_group_group">\t\t\t\t\t\t\t\t\t<option value="not_change" selected>Do not change</option>\t\t\t\t\t\t\t\t\t<option></option>\t\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<span class="left_field">Language</span>\t\t\t\t\t\t\t<div class="right_field">\t\t\t\t\t\t\t\t'+((e=$("#add_lp [name=lang_lp]").clone().attr("name","lp_group_lang")).find(":selected").removeAttr("selected"),e.prepend("<option value='not_change' selected >Do not change</option>"),e[0].outerHTML+'\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t         </div>\t\t\t\t\t <div class="win_footer ">\t\t\t\t\t\t <div class="win-buttons-block">\t\t\t\t\t\t\t <a class="button win-save-button note-save-button"><img src="templates/standart/images/w-save.png" class="icon save_icon">Edit</a>\t\t\t\t\t\t\t <a class="button win-close-button note-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>\t\t\t\t\t\t </div>\t\t\t\t\t </div>\t\t\t\t </div>');var e}function o(){var t,n,i,o,a={params:(t=$(e+" [name=lp_group_domain]").val(),n=$(e+" [name=lp_group_group]").val(),i=$(e+" [name=lp_group_lang]").val(),o={},void 0!==t&&""!=t&&(o.domain=t),void 0!==n&&"not_change"!=n&&(o.group=n),void 0!==i&&"not_change"!=i&&(o.lang=i),o),landings:r()};a=JSON.stringify(a),$.ajax({url:"",type:"post",data:{ajax:1,ajax_type:"write",type:"mass_landing_edit",data:a},success:function(t){s(),window.location.reload()}})}function a(){var t=i();$("body").append(t)}function s(){$("."+t+"_wrap").remove(),$(e).remove()}function r(){return n}return{init:function(t){void 0!==t&&0!=t.length||(t=BINOM.tt.getCheckedMeaningful()),n=t,a(),function(){var t=this;$(e+" .win-save-button").on("click",(function(){o.call(t)})),$(e+" .win-close-button").on("click",s),$(e+" .win_closebtn").on("click",s)}(),$.ajax({url:"",type:"POST",data:{type:"load_group_lp",ajax:"1"},success:function(t){$(e+" [name=lp_group_group]").append(t)}})},show:a,hide:s,getLandings:r}}(),window.groupEditWindowOffers=function(){var t="group-edit-offer-window",e="#"+t,n=new Array;function i(){return'<div id="wrap" class="wrap '+t+'_wrap" style="display: block;"></div>\t\t\t\t\t <div class="window" id="'+t+'" style="width:600px;height:160px;">\t\t\t\t\t\t <a onclick="notewindow_hide(this);" class="win_closebtn"></a>\t\t\t\t\t\t <div class="win_header">\t\t\t\t\t\t\t <span class="window_head_name">Edit offers</span>\t\t\t\t\t\t </div>\t\t\t\t\t\t <div class="win_cap ">\t\t\t\t\t\t </div>\t\t\t\t\t\t <div class="win_content" style="height:100px">\t\t\t\t\t\t\t<div class="field_input">\t\t\t\t\t\t\t\t<span class="left_field">Group</span>\t\t\t\t\t\t\t\t<div class="right_field">\t\t\t\t\t\t\t\t\t<select name="of_group_group">\t\t\t\t\t\t\t\t\t\t<option value="not_change" selected>Do not change</option>\t\t\t\t\t\t\t\t\t\t<option></option>\t\t\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<span class="left_field">Geo</span>\t\t\t\t\t\t\t\t<div class="right_field">\t\t\t\t\t\t\t\t\t'+((e=$("#add_of [name=geo_of]").clone().attr("name","of_group_geo")).find(":selected").removeAttr("selected"),e.prepend("<option value='not_change' selected >Do not change</option>"),e[0].outerHTML+'\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t         </div>\t\t\t\t\t\t <div class="win_footer ">\t\t\t\t\t\t\t <div class="win-buttons-block">\t\t\t\t\t\t\t\t <a class="button win-save-button note-save-button"><img src="templates/standart/images/w-save.png" class="icon save_icon">Edit</a>\t\t\t\t\t\t\t\t <a class="button win-close-button note-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t </div>\t\t\t\t\t </div>');var e}function o(){var t,n,i,o={params:(t=$(e+" [name=of_group_group]").val(),n=$(e+" [name=of_group_geo]").val(),i={},void 0!==t&&"not_change"!=t&&(i.group=t),void 0!==n&&"not_change"!=n&&(i.geo=n),i),offers:r()};o=JSON.stringify(o),$.ajax({url:"",type:"post",data:{ajax:1,ajax_type:"write",type:"mass_offer_edit",data:o},success:function(t){window.location.reload()}})}function a(){var t=i();$("body").append(t)}function s(){$("."+t+"_wrap").remove(),$(e).remove()}function r(){return n}return{init:function(t){var i;void 0===t||0==t.length?(i=BINOM.tt.getCheckedMeaningful(),n=new Array,i.forEach((function(t){n.push(t)})),n=n):n=t,a(),function(){var t=this;$(e+" .win-save-button").on("click",(function(){o.call(t)})),$(e+" .win-close-button").on("click",s),$(e+" .win_closebtn").on("click",s)}(),$.ajax({url:"",type:"POST",data:{type:"load_group_of",ajax:"1"},success:function(t){$(e+" [name=of_group_group]").append(t)}})},show:a,hide:s,getOffers:r}}(),window.getDataAboutItemAsunc=function(t,e,n){"function"!=typeof n&&(n=function(){console.error("Callback on get Item Data was not passed!")});$.ajax({type:"post",url:"",data:{ajax:1,type:"get_item",itemType:t,itemId:e},success:function(t){n(t)}})},window.checkStatusMarkedRows=function(){var t="",e=0,n=0;if(BINOM.tt.markedRows.checked.length<=1&&BINOM.tt.markedRows.selected.length<=1)return a=BINOM.tt.markedRows.checked[0]||BINOM.tt.markedRows.selected[0],$("tr#ttrowuid"+a).hasClass("deleted_item")?"deleted":"active";for(var i=0,o=BINOM.tt.markedRows.checked.length;i<o;i++){var a=BINOM.tt.markedRows.checked[i];0==BINOM.tt.tableData.findObjectByProp("id",a).status?e+=1:n+=1}t=BINOM.tt.markedRows.checked.length==e?"deleted":BINOM.tt.markedRows.checked.length==n?"active":"both";return t},window.get_id_of_selected_element=function(){return 1==BINOM.tt.markedRows.selected.length?BINOM.tt.markedRows.selected[0]:1==BINOM.tt.markedRows.checked.length?BINOM.tt.markedRows.checked[0]:null},window.DEVHIDED={openTypesOfClearing:function(){$(".clearing_type_row").css("display","block")}},window.ClearingWindow=function(t){var e="window-clearing-campaign",n="."+e,i=!1,o=this;this.camp_id=new Array,void 0!==t&&(this.camp_id=t);this.draw=function(){var t=o.makeContent();return'<div id="wrap" class="wrap '+e+'_wrap" style="display: block;"></div>\t\t\t\t<div class="window '+e+'" style="width:600px;" id="'+e+'">\t\t\t\t\t<a class="win_closebtn"></a>\t\t\t\t\t<div class="win_header">\t\t\t\t\t\t<span class="window_head_name">Clearing </span>\t\t\t\t\t</div>\t\t\t\t\t<div class="win_cap ">\t\t\t\t\t</div>\t\t\t\t\t<div class="win_content" style="width:570px;overflow:hidden;" >\t\t\t\t\t\t'+t+'\t\t\t\t\t\t\n\n\t\t<div class="system-inline-message disclaimer">\n\t\t\t<div class="system-inline-message__header">Warning!</div>\n\t\t\t\t<div class="system-inline-message__text">\n\t\t\t\t\t<ol style="font-size:13px;">\n\t\t\t\t\t\t\x3c!-- <li>Warning, it is not recommended to perform clearings while tracker is under any load</li> --\x3e\n\t\t\t\t\t\t<li>It is not recommended to perform clearings while running high volume traffic</li>\n\t\t\t\t\t\t\x3c!-- <li>This clearing is added to the execution queue</li> --\x3e\n\t\t\t\t\t\t<li>Clearing execution queue will be updated, for more information please check the <a href="?page=analysis_system" target="_blank" >Monitor tab</a></li>\n\t\t\t\t\t</ol>\n\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t    \t</div>\t\t\t\t\t<div class="win_footer ">\t\t\t\t\t\t<div class="win-buttons-block">\t\t\t\t\t\t \t<a class="button win-save-button note-save-button"><img src="templates/standart/images/w-refresh2.png" class="icon save_icon">Clear</a>\t\t\t\t\t\t\t<a class="button win-close-button note-close-button" ><img src="./templates/standart/images/w-close.png" class="icon close_icon">Close</a>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>'},this.makeContent=function(){return'\n\t\t\t\t\x3c!-- <span class="clear_camp_title" style="text-align:center;"></span> --\x3e\n\n\t\t\t\t<div class="clearing_type_row" style="display:none;">\n\t\t\t\t\t<span class="left_field">Type</span>\n\t\t\t\t\t<div class="right_field" style="min-height:40px;line-height:40px;">\n\t\t\t\t\t\t<div style="display:inline-block">\n\t\t\t\t\t\t\t<div style="display:inline-block;width: 53px;">\n\t\t\t\t\t\t\t\t<label><input type="radio" value="1" name="clearing_type" checked> Full </label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<label><input type="radio" value="2" name="clearing_type"> Fast </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span class="left_field">Interval</span>\n\t\t\t\t<div class="right_field" style="min-height:40px;line-height:40px;">\n\t\t\t\t\t<div style="display:inline-block;width:150px;">\n\t\t\t\t\t\t<div style="display:inline-block;width: 53px;">\n\t\t\t\t\t\t\t<label> <input type="radio" value="1" name="clearing_interval" checked /> Full </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label> <input type="radio" value="2" name="clearing_interval" /> Interval </label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clearing_interval_block" style="display:none;">\n\t\t\t\t\t\t<input type="text" id="clearing_time_start" name="clearing_time_start" checked /> \n\t\t\t\t\t\t<div style="display:none;">\n\t\t\t\t\t\t\t<input type="text" id="clearing_time_end" name="clearing_time_end" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span class="left_field">Start</span>\n\t\t\t\t<div class="right_field" style="min-height:40px;line-height:40px;">\n\t\t\t\t\t<div style="display:inline-block;width:150px;">\n\t\t\t\t\t\t<label> <input type="radio" value="1" name="clearing_start" checked /> Now </label>\n\t\t\t\t\t\t<label> <input type="radio" value="2" name="clearing_start" /> At the time </label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clearing_start_block" style="display:none;">\n\t\t\t\t\t\t<input type="text" id="clearing_start_timer" name="clearing_start_timer"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t'},this.open=function(){if(1==BINOM.tt.markedRows.selected.length||1==BINOM.tt.markedRows.checked.length){0==o.camp_id.length&&(1==BINOM.tt.markedRows.selected.length?o.camp_id=[BINOM.tt.getSelectedMeaningful()[0]]:BINOM.tt.markedRows.checked&&(o.camp_id=[BINOM.tt.getCheckedMeaningful()[0]]));var t=BINOM.tt.tableData.findObjectByProp("id",o.camp_id);o.camp_name=t.name||"",o.show(),$(n).find(".window_head_name").html("Clear "+o.camp_name.substr(0,150)+":"+o.camp_id)}else BINOM.tt.markedRows.checked.length>1&&(0==o.camp_id.length&&BINOM.tt.getCheckedMeaningful().forEach(t=>{o.camp_id.push(t)}),o.camp_id.length<=5?o.camp_name=o.camp_id.join(", "):o.camp_name=o.camp_id.slice(0,5).join(", ")+' and <b style="color: #A22" title="'+o.camp_id.slice(5).join(", ")+'">'+(o.camp_id.length-5)+"</b> other campaigns",o.show(),$(n).find(".window_head_name").html("Clear camps: "+o.camp_name))},this.close=function(){o.camp_id=[],o.camp_name=null,$("[name=clearing_type]").eq(0).prop("checked",!0),$("[name=clearing_interval]").eq(0).prop("checked",!0),$("[name=clearing_start]").eq(0).prop("checked",!0),$(".clearing_interval_block").css("display","none"),$(".clearing_start_block").css("display","none"),$("#clear_camp_title").html(""),o.hide()},this.show=function(){i||o.init(),$(n).css("display","block"),$(n+"_wrap").css("display","block")},this.hide=function(){$(n).css("display","none"),$(n+"_wrap").css("display","none")};var a=!1;this.clearingIntervalChange=function(){"2"==$(this).val()?($(".clearing_interval_block").css("display","inline-block"),a||($("#clearing_time_start").periodpicker({end:"#clearing_time_end",formatMonth:"MMMM",formatDecoreDate:"YYYY-MM-DD",formatDate:"YYYY-MM-DD",formatDecoreDateWithYear:"YYYY-MM-DD",formatDecoreDateWithoutMonth:"YYYY-MM-DD",maxDate:moment().add("days",1),i18n:{en:{OK:"Apply"}}}),a=!0)):$(".clearing_interval_block").css("display","none")};var s=!1;this.clearingStartChange=function(){"2"==$(this).val()?($(".clearing_start_block").css("display","inline-block"),s||($("#clearing_start_timer").periodpicker({formatMonth:"MMMM",formatDate:"YYYY-MM-DD",minDate:moment().format("YYYY-MM-DD"),formatDecoreDateWithYear:"YYYY-MM-DD HH:mm",formatDecoreDateTimeWithYear:"YYYY-MM-DD HH:mm",formatDecoreDateWithoutMonth:"YYYY-MM-DD HH:mm",formatDecoreDate:"YYYY-MM-DD HH:mm",cells:[1,2],norange:!0,yearsLine:!1,timepicker:!0,timepickerOptions:{hours:!0,minutes:!1,seconds:!1,ampm:!1,twelveHoursFormat:!1},i18n:{en:{OK:"Apply"}}}),s=!0)):$(".clearing_start_block").css("display","none")},this.collectDataFromWindow=function(){if(null==o.camp_id)throw new Error("Try to clear camp. Camp ID is not defined.");var t=$("[name=clearing_type]:checked").val(),e=0,n=99999999999,i=0;(2==$("[name=clearing_interval]:checked").val()&&(e=$("#clearing_time_start").val(),n=$("#clearing_time_end").val()),2==$("[name=clearing_start]:checked").val())&&(i=""==(i=$("#clearing_start_timer").periodpicker("valueString"))?0:i);var a=Object.create(null);a.clear_type=t;const s=o.camp_id||[];return a.camp_id=JSON.stringify(s),a.start_interval=e,a.end_interval=n,a.start_clear=i,a},this.sendData=function(t,e){var n,i=Object.create(null);for(n in i.ajax=1,i.ajax_type="write",i.type="clear_camp",t)i[n]=t[n];$.ajax({url:"",type:"post",data:i,success:function(t){"function"==typeof e&&e(),BINOM&&BINOM.tt&&"function"==typeof BINOM.tt.refetchData?(o.close(),BINOM.tt.refetchData()):window.location.reload()}})},this.validateData=function(t){if(t){var e=0;2==$("[name=clearing_start]:checked").val()&&0==t.start_clear?($(".clearing_start_block").addClass("period-picker-container_error"),e++):$(".clearing_start_block").removeClass("period-picker-container_error"),2==$("[name=clearing_interval]:checked").val()&&0==t.start_interval?($(".clearing_interval_block").addClass("period-picker-container_error"),e++):$(".clearing_interval_block").removeClass("period-picker-container_error")}return 0==e},this.save=function(){var t=o.collectDataFromWindow();if(o.validateData(t)){var n=new I("#"+e,{blocked_button_text:"Sending..."});n.block(),o.sendData(t,()=>n.unblock())}},this.setHandlers=function(){$("[name=clearing_interval]").on("change",o.clearingIntervalChange),$("[name=clearing_start]").on("change",o.clearingStartChange),$("body").on("click",n+" .win_closebtn",o.close),$("body").on("click",n+" .win-close-button",o.close),$("body").on("click",n+" .win-save-button",o.save)},this.init=function(){if(!i){var t=o.draw();$("body").append(t),o.setHandlers(),i=!0}}},window.pinModalWindowToTopOfTheWindow=function(){var t=window.innerHeight;$(".window").each((function(e,n){"block"==(n=$(n)).css("display")&&(n.outerHeight()+81>t?n.css("margin-top",0):n.css("margin-top","81px"))}))},window.BINOM.BLOCK_CSV_CLICK=!1,window.BINOM.BLOCK_CSV_CLICK_TIME=5e3,window.clearCSVBLOCK=function(){window.BINOM.BLOCK_CSV_CLICK=!1},window.doCSVExport=q,$(document).ready((function(){$("body").on("click",".csv_export_button",(function(){window.BINOM.BLOCK_CSV_CLICK||q()}))})),window.ChartRenderer=function(t){var e=this,n=null,i=null;this.options=t||Object.create(null),this.chartData=null,this.editDataForChart=function(){},this.setData=function(t){this.chartData=t},this.spliceData=function(t,n,i){return e.chartData},this.make=function(){e.drawChart(),e.options.drawSlider&&($("#"+e.options.canvasID).after('<div class="chart-slider"></div>'),e.drawSlider())},this.drawChart=function(){if(e.options.canvasID)if(null!==e.charData){var t=e.chartData,i=t[0],o=t.slice(1);Chart.defaults.global.animation.duration=0;var a=document.getElementById(e.options.canvasID).getContext("2d");n=new Chart(a,{type:"line",data:{labels:i,datasets:o},options:{scales:{xAxes:[{ticks:{maxTicksLimit:24}}]}}})}else console.error("DATA FOR DRAWING CHART WAS NOT PASSSED!");else console.error("BLOCKID FOR DRAWING CHART WAS NOT PASSSED!")},this.drawSlider=function(){var t=e.chartData[0];$(".chart-slider").ionRangeSlider({type:"double",grid:!0,values:t,onFinish:function(t){var n=t.from_value,i=t.to_value;e.updateChartDataBySlider(n,i)}}),i=$(".chart-slider").data("ionRangeSlider"),$(".irs.js-irs-0").css("margin-left","40px")},this.updateChartDataBySlider=function(t,n){var i=e.chartData[0].indexOf(t),o=e.chartData[0].indexOf(n),a=[];a[0]=e.chartData[0].slice(i,o+1);for(var s=1;s<e.chartData.length;s++){var r;for(r in a[s]=Object.create(null),e.chartData[s])e.chartData[s].hasOwnProperty(r)&&(a[s][r]="data"!=r?e.chartData[s][r]:e.chartData[s].data.slice(i,o+1))}e.updateChart(a)},this.updateSlider=function(t){null!=i&&i.update({values:t,from:t.length-100,to:t.length-1})},this.reRenderChart=function(t){e.chartData=t,e.updateSlider(t[0]),e.updateChartDataBySlider(t[0][t[0].length-100],t[0][t[0].length-1])},this.updateChart=function(t){(t=t||!1)&&null!=n&&(n.data.labels=t[0],n.data.datasets=t.slice(1),n.update())}},BINOM.UTILS={},BINOM.UTILS.makeInnerMessage=t=>{let e,n,i,o;return e=t.type?t.type:"info",n=t.header?t.header:e.substr(0,1).toUpperCase()+e.substr(1),i=!!t.subheader&&t.subheader,t.text?Array.isArray(t.text)?(o="",t.text.forEach(t=>{o+=`<span>${t}</span>`})):o=`<span>${t.text}<span>`:o="",`\n\t\t<div class="system-inline-message ${e}">\n\t\t\t<div class="system-inline-message__header">${n}</div>\n\t\t\t${""!=i?`<div class="system-inline-message__sub-header"> \n\t\t\t\t\t${i}\n\t\t\t\t</div>`:""}\n\t\t\t${""!=o?`<div class="system-inline-message__text">\n\t\t\t\t\t${o}\n\t\t\t\t</div>`:""}\n\t\t</div>\n\t`},window.setAwesomeCalendar=z,window.setCustomDateBlock=K,window.initAwesomePicker=V,$(document).ready((function(){V(),Z(),$("#bnm-awesome-calendar-start").on("change",(function(){$("#refresh-btn").removeClass("blue-button").addClass("green-button"),$("#refresh-btn").html("&nbsp;&nbsp;<img src='templates/standart/images/w-ok.png' class='icon' style='position: relative; top: 1px;'>Apply&nbsp;&nbsp;")})),$("body").on("change","#date_filter, #timedate",(function(){if(K(this.value),12==this.value||10==this.value){var t=12==this.value?"YYYY-MM-DD":"YYYY-MM-DD 00:00",e=12==this.value?"YYYY-MM-DD":"YYYY-MM-DD 23:59",n=$.cookie("date_s"),i=$.cookie("date_e");$('input[name="m-date_s"]').val(moment(n).format(t)),$('input[name="m-date_e"]').val(moment(i).format(e)),$("#bnm-awesome-calendar").periodpicker("show"),Z(),"12"==$("#date_filter, #timedate").val()&&($("#bnm-awesome-calendar").periodpicker("regenerate",[1,3]),$("#bnm-awesome-calendar").periodpicker("show"))}})),$("body").on("change","#stats-timezone",(function(){Z()})),$("body").on("change",'input[name="m-date_s"]',(function(){var t=$('input[name="m-date_e"]').val(),e=this.value;$("#bnm-awesome-calendar").periodpicker("value",[e,t])})),$("body").on("change",'input[name="m-date_e"]',(function(){var t=$('input[name="m-date_s"]').val(),e=this.value;$("#bnm-awesome-calendar").periodpicker("value",[t,e])}))})),window.getURLCookieOption=t=>{const e=decodeURIComponent(URLUtils.getParam(t)||""),n=$.cookie(t)||!1;return e||n},window.preLoadingStatDateRangeCheck=J,window.setPeriodPickerOptions=Z,window.initContextMenu=function(){var t=o("page")||"Campaigns";"Traffic_Sources"==t&&(t="TrafficSources");$("body").on("contextmenu",".tt_data_table tr",(function(e){try{if(window.vmStore.state[t].TT.contextMenuState.showed){window.vmStore.dispatch("TT/CLOSE_TT_CONTEXT_MENU")}window.vmStore.dispatch("TT/OPEN_TT_CONTEXT_MENU",{event:e})}catch(e){console.error(e)}}))},$(document).ready((function(){BINOM.__page&&document.body.classList.add("bnm-current-page__"+BINOM.__page)})),window.RoutingUtilStorage=function(){localStorage.routingUtilStorage?this.storage=JSON.parse(localStorage.routingUtilStorage):this.storage=function(){const t={minimizedRules:{}};return t}(),this.writeMinimizedRule=function(t,e){t&&(this.storage.minimizedRules||(this.storage.minimizedRules={}),e?this.storage.minimizedRules[t]=e:delete this.storage.minimizedRules[t],this.writeStorage())},this.isRuleMinimized=function(t){return!!this.storage.minimizedRules&&this.storage.minimizedRules[t]},this.writeCachedRouting=function(t){this.storage.cachedRouting=JSON.parse(JSON.stringify(t)),this.storage.cachedRouting.rules&&this.storage.cachedRouting.rules.forEach(t=>{t.criteria&&t.criteria.forEach(t=>{if(t.type>90){const e=t.type-90;if(ROUTING.tokens.length){const n=ROUTING.tokens.find(t=>t.id==e);t.type=Number(n.type)+80}}})}),this.writeStorage()},this.clearCachedRouting=function(){delete this.storage.cachedRouting,this.writeStorage()},this.writeStorage=function(){localStorage.routingUtilStorage=JSON.stringify(this.storage)}},$.fn.bnm_inputCross=function(){const t=this,e=$('<div class="search-interactive search-interactive-floated"></div>'),n=$('<div class="search-interactive__cross"></div>');e.append(n),this.after(e),e.prepend(this);const i=()=>{t.val()?n.css("display","block"):n.css("display","none")};i(),t.on("input",()=>{i()}),n.on("click",()=>{t.val(""),t.trigger("change"),t.trigger("input"),t.focus()})},$(document).ready(()=>{$(".search").bnm_inputCross(),$(".tooltip").qtip({position:{my:"center left",at:"bottom right"},show:{event:"click"},hide:{event:"unfocus"},style:{classes:"qtip-dark qtip-shadow"}})})}});